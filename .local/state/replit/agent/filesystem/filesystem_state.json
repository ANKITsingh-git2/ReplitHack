{"file_contents":{"src/agents/Memory.ts":{"content":"import Database from \"better-sqlite3\";\n\ntype MemoryItem = { id: string; key: string; value: any; ts: number };\n\nexport class Memory {\n  private db: Database.Database;\n\n  constructor(dbPath: string = \"memory.db\") {\n    // Support in-memory database for testing\n    this.db = new Database(dbPath === \":memory:\" ? \":memory:\" : dbPath);\n    this.db.exec(`\n      CREATE TABLE IF NOT EXISTS memories (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        key TEXT NOT NULL,\n        value TEXT NOT NULL,\n        ts INTEGER NOT NULL\n      )\n    `);\n  }\n\n  add(key: string, value: any) {\n    const stmt = this.db.prepare(\"INSERT INTO memories (key, value, ts) VALUES (?, ?, ?)\");\n    stmt.run(key, JSON.stringify(value), Date.now());\n  }\n\n  query(key: string) {\n    // Support pattern matching with LIKE\n    const usePattern = key.includes('%') || key.endsWith('_');\n    const query = usePattern \n      ? \"SELECT value FROM memories WHERE key LIKE ? ORDER BY ts DESC\"\n      : \"SELECT value FROM memories WHERE key = ? ORDER BY ts DESC\";\n    const stmt = this.db.prepare(query);\n    return stmt.all(key).map((row: any) => JSON.parse(row.value));\n  }\n\n  dump() {\n    return this.db.prepare(\"SELECT * FROM memories ORDER BY ts DESC\").all();\n  }\n}\n","size_bytes":1236},"src/agents/tools/ToolAuthorization.ts":{"content":"import { Tool } from \"./Tool\";\nimport { UserDB, Role } from \"../../db/UserDB\";\n\nexport interface ToolPermission {\n  toolName: string;\n  allowedRoles: Role[];\n  requiresAuth?: boolean;\n}\n\nexport class ToolAuthorization {\n  private permissions: Map<string, ToolPermission>;\n  private userDB: UserDB;\n\n  constructor(userDB: UserDB) {\n    this.userDB = userDB;\n    this.permissions = new Map();\n    this.setupDefaultPermissions();\n  }\n\n  private setupDefaultPermissions() {\n    // Default: all tools accessible to all authenticated users\n    const defaultRoles: Role[] = [\"admin\", \"user\", \"agent\"];\n    this.registerTool(\"search_flights\", { toolName: \"search_flights\", allowedRoles: defaultRoles });\n    this.registerTool(\"search_hotels\", { toolName: \"search_hotels\", allowedRoles: defaultRoles });\n    this.registerTool(\"web_scraper\", { toolName: \"web_scraper\", allowedRoles: defaultRoles });\n    this.registerTool(\"respond\", { toolName: \"respond\", allowedRoles: defaultRoles });\n  }\n\n  registerTool(toolName: string, permission: ToolPermission) {\n    this.permissions.set(toolName, permission);\n  }\n\n  async canUseTool(userId: string | null, toolName: string): Promise<boolean> {\n    const permission = this.permissions.get(toolName);\n    if (!permission) return false; // Unknown tools are denied\n\n    if (!permission.requiresAuth && !userId) return true;\n    if (!userId) return false;\n\n    const user = this.userDB.getUser(userId);\n    if (!user) return false;\n\n    return permission.allowedRoles.includes(user.role);\n  }\n\n  getAuthorizedTools(userId: string | null): string[] {\n    const user = userId ? this.userDB.getUser(userId) : null;\n    const userRole = user?.role || null;\n\n    return Array.from(this.permissions.entries())\n      .filter(([_, perm]) => {\n        if (!perm.requiresAuth && !userId) return true;\n        if (!userId) return false;\n        return perm.allowedRoles.includes(userRole!);\n      })\n      .map(([toolName]) => toolName);\n  }\n}\n\n","size_bytes":1964},"QUICKSTART.md":{"content":"# Quick Start Guide\n\n## üöÄ Getting Started in 5 Minutes\n\n### 1. Install Dependencies\n```bash\ncd agentverse\nnpm install\n```\n\n### 2. Set Up Environment (Optional)\n```bash\ncp .env.example .env\n# Edit .env and add your API keys if you have them\n# The system works without API keys (uses fallback)\n```\n\n### 3. Start the Server\n```bash\nnpm run dev\n```\n\n### 4. Open the Application\nNavigate to `http://localhost:3000`\n\n### 5. Login\n- **Email**: `admin@agentverse.com`\n- **Password**: `admin123`\n\n### 6. Try It Out!\n1. Create a new agent (or use the default)\n2. Submit a goal: \"Plan a trip to Goa for next month\"\n3. Watch the agent create a plan and execute it\n4. View the timeline to see progress\n\n## üê≥ Docker Quick Start\n\n```bash\ndocker-compose up -d\n```\n\n## üß™ Run Tests\n\n```bash\nnpm test\n```\n\n## üìù Example Goals\n\n- \"Plan a trip to Goa for next month\"\n- \"Find flights from Bangalore to Mumbai\"\n- \"Search for hotels in Delhi for 3 nights\"\n- \"Plan a weekend getaway to the mountains\"\n\n## üîß Troubleshooting\n\n### Port Already in Use\nChange the port in `src/server.ts` (line 93)\n\n### Database Errors\nDelete `*.db` files and restart\n\n### API Key Issues\nThe system works without API keys, but planning will be simpler. Add your keys to `.env` for better results.\n\n## üìö Next Steps\n\n- Read the full [README.md](README.md)\n- Check out the API documentation\n- Explore multi-agent features\n- Customize tools and agents\n\n---\n\nHappy coding! üéâ\n\n","size_bytes":1444},"src/agents/tools/Tool.ts":{"content":"export interface Tool {\n  name: string;\n  description: string;\n  inputSchema: object;\n  execute(input: any, memory?: any): Promise<any>;\n}\n\nexport function formatTools(tools: Record<string, Tool>): string {\n  return Object.values(tools).map(tool => `- ${tool.name}: ${tool.description}. Input: ${JSON.stringify(tool.inputSchema)}`).join('\\n');\n}","size_bytes":345},"src/agents/GoalQueue.ts":{"content":"import { Goal } from \"./Agent\";\n\nexport class GoalQueue {\n  private queue: Goal[] = [];\n  private processing = false;\n  private handler?: (goal: Goal) => Promise<any>;\n\n  add(goal: Goal) {\n    this.queue.push(goal);\n    this.process();\n  }\n\n  async process(handler?: (goal: Goal) => Promise<any>) {\n    if (handler) this.handler = handler;\n    if (this.processing || !this.handler) return;\n    this.processing = true;\n    while (this.queue.length > 0) {\n      const goal = this.queue.shift();\n      if (goal) {\n        await this.handler(goal);\n      }\n    }\n    this.processing = false;\n  }\n}\n","size_bytes":594},"src/api/auth.ts":{"content":"import { FastifyRequest, FastifyReply } from \"fastify\";\nimport jwt from \"jsonwebtoken\";\nimport { UserDB } from \"../db/UserDB\";\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"your-secret-key-change-in-production\";\n\nexport interface AuthRequest extends FastifyRequest {\n  user?: { id: string; email: string; role: string };\n}\n\nexport function createAuthRoutes(userDB: UserDB) {\n  return {\n    async register(req: FastifyRequest, reply: FastifyReply) {\n      const body = req.body as { email: string; password: string; role?: string };\n      try {\n        const user = await userDB.createUser(body.email, body.password, (body.role as any) || \"user\");\n        const token = jwt.sign({ id: user.id, email: user.email, role: user.role }, JWT_SECRET, { expiresIn: \"7d\" });\n        return { token, user: { id: user.id, email: user.email, role: user.role } };\n      } catch (error: any) {\n        reply.code(400);\n        return { error: error.message || \"Registration failed\" };\n      }\n    },\n\n    async login(req: FastifyRequest, reply: FastifyReply) {\n      const body = req.body as { email: string; password: string };\n      const user = await userDB.authenticate(body.email, body.password);\n      if (!user) {\n        reply.code(401);\n        return { error: \"Invalid credentials\" };\n      }\n      const token = jwt.sign({ id: user.id, email: user.email, role: user.role }, JWT_SECRET, { expiresIn: \"7d\" });\n      return { token, user: { id: user.id, email: user.email, role: user.role, preferences: user.preferences } };\n    },\n  };\n}\n\nexport async function authenticateToken(req: AuthRequest, reply: FastifyReply) {\n  const authHeader = (req.headers as any).authorization;\n  if (!authHeader) {\n    reply.code(401);\n    throw new Error(\"No authorization header\");\n  }\n\n  const token = authHeader.split(\" \")[1];\n  try {\n    const decoded = jwt.verify(token, JWT_SECRET) as any;\n    req.user = { id: decoded.id, email: decoded.email, role: decoded.role };\n  } catch (error) {\n    reply.code(401);\n    throw new Error(\"Invalid token\");\n  }\n}\n\nexport function requireRole(role: string) {\n  return async (req: AuthRequest, reply: FastifyReply) => {\n    if (!req.user || req.user.role !== role) {\n      reply.code(403);\n      throw new Error(\"Insufficient permissions\");\n    }\n  };\n}\n\n","size_bytes":2277},"src/api/routes.ts":{"content":"import { FastifyInstance, FastifyRequest, FastifyReply } from \"fastify\";\nimport { UserDB } from \"../db/UserDB\";\nimport { AgentDB } from \"../db/AgentDB\";\nimport { Memory } from \"../agents/Memory\";\nimport { Planner } from \"../agents/Planner\";\nimport { Executor } from \"../agents/Executor\";\nimport { TravelPlanner } from \"../agents/TravelPlanner\";\nimport { CareerCoach } from \"../agents/CareerCoach\";\nimport { StudyBuddy } from \"../agents/StudyBuddy\";\nimport { TaskAutomation } from \"../agents/TaskAutomation\";\nimport { Tool } from \"../agents/tools/Tool\";\nimport { ToolAuthorization } from \"../agents/tools/ToolAuthorization\";\nimport { MultiAgentSystem } from \"../agents/MultiAgentSystem\";\nimport { AuthRequest, authenticateToken } from \"./auth\";\nimport { v4 as uuid } from \"uuid\";\n\nexport function registerRoutes(\n  server: FastifyInstance,\n  userDB: UserDB,\n  agentDB: AgentDB,\n  tools: Record<string, Tool>,\n  multiAgentSystem: MultiAgentSystem\n) {\n  const toolAuth = new ToolAuthorization(userDB);\n  const agentMemories: Map<string, Memory> = new Map();\n  const agentInstances: Map<string, any> = new Map();\n\n  function getOrCreateAgent(agentId: string, userId: string): any {\n    if (agentInstances.has(agentId)) {\n      return agentInstances.get(agentId)!;\n    }\n\n    const agentRecord = agentDB.getAgent(agentId);\n    if (!agentRecord) {\n      throw new Error('Agent not found');\n    }\n\n    const memory = new Memory(`memory_${agentId}.db`);\n    agentMemories.set(agentId, memory);\n    const planner = new Planner(tools);\n    const executor = new Executor(tools);\n    \n    let agent: any;\n    switch (agentRecord.type) {\n      case 'career_coach':\n        agent = new CareerCoach(agentId, memory, planner, executor);\n        break;\n      case 'study_buddy':\n        agent = new StudyBuddy(agentId, memory, planner, executor);\n        break;\n      case 'task_automation':\n        agent = new TaskAutomation(agentId, memory, planner, executor);\n        break;\n      case 'travel_planner':\n      default:\n        agent = new TravelPlanner(agentId, memory, planner, executor);\n        break;\n    }\n    \n    agentInstances.set(agentId, agent);\n    multiAgentSystem.registerAgent(agentId, agent);\n    return agent;\n  }\n\n  // Auth routes\n  server.post(\"/api/auth/register\", async (req: FastifyRequest, reply: FastifyReply) => {\n    const authRoutes = await import(\"./auth\");\n    return authRoutes.createAuthRoutes(userDB).register(req, reply);\n  });\n\n  server.post(\"/api/auth/login\", async (req: FastifyRequest, reply: FastifyReply) => {\n    const authRoutes = await import(\"./auth\");\n    return authRoutes.createAuthRoutes(userDB).login(req, reply);\n  });\n\n  // User routes\n  server.get(\"/api/user/profile\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const user = userDB.getUser(req.user!.id);\n    if (!user) {\n      reply.code(404);\n      return { error: \"User not found\" };\n    }\n    return { id: user.id, email: user.email, role: user.role, preferences: user.preferences };\n  });\n\n  server.put(\"/api/user/preferences\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const body = req.body as { preferences: Record<string, any> };\n    userDB.updatePreferences(req.user!.id, body.preferences);\n    return { success: true };\n  });\n\n  // Agent routes\n  server.post(\"/api/agents\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const body = req.body as { type: string; name: string; config?: Record<string, any> };\n    const agentRecord = agentDB.createAgent(req.user!.id, body.type, body.name, body.config || {});\n    return agentRecord;\n  });\n\n  server.get(\"/api/agents\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const agents = agentDB.getUserAgents(req.user!.id);\n    return { agents };\n  });\n\n  server.get(\"/api/agents/:id\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const params = req.params as { id: string };\n    const agentRecord = agentDB.getAgent(params.id);\n    if (!agentRecord || agentRecord.userId !== req.user!.id) {\n      reply.code(404);\n      return { error: \"Agent not found\" };\n    }\n    return agentRecord;\n  });\n\n  server.delete(\"/api/agents/:id\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const params = req.params as { id: string };\n    const agentRecord = agentDB.getAgent(params.id);\n    if (!agentRecord || agentRecord.userId !== req.user!.id) {\n      reply.code(404);\n      return { error: \"Agent not found\" };\n    }\n    agentDB.deleteAgent(params.id);\n    agentInstances.delete(params.id);\n    agentMemories.delete(params.id);\n    return { success: true };\n  });\n\n  // Goal/Message routes\n  server.post(\"/api/agents/:id/goal\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const params = req.params as { id: string };\n    const body = req.body as { text: string; meta?: any; simulate?: boolean };\n    \n    const agentRecord = agentDB.getAgent(params.id);\n    if (!agentRecord || agentRecord.userId !== req.user!.id) {\n      reply.code(404);\n      return { error: \"Agent not found\" };\n    }\n\n    const agent = getOrCreateAgent(params.id, req.user!.id);\n    agentDB.updateLastActive(params.id);\n    \n    userDB.auditLog(req.user!.id, \"goal_submitted\", \"agent\", params.id, { goal: body.text });\n\n    const result = await agent.handleGoal(\n      { id: uuid(), text: body.text, meta: body.meta },\n      { simulate: body.simulate }\n    );\n\n    return result;\n  });\n\n  // Memory routes\n  server.get(\"/api/agents/:id/memory\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const params = req.params as { id: string };\n    const agentRecord = agentDB.getAgent(params.id);\n    if (!agentRecord || agentRecord.userId !== req.user!.id) {\n      reply.code(404);\n      return { error: \"Agent not found\" };\n    }\n\n    const agent = getOrCreateAgent(params.id, req.user!.id);\n    return agent.memory.dump();\n  });\n\n  // Multi-agent routes\n  server.post(\"/api/agents/:id/delegate\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const params = req.params as { id: string };\n    const body = req.body as { toAgentId: string; goal: { text: string; meta?: any } };\n    \n    const fromAgent = getOrCreateAgent(params.id, req.user!.id);\n    const result = await multiAgentSystem.delegateGoal(params.id, body.toAgentId, {\n      id: uuid(),\n      text: body.goal.text,\n      meta: body.goal.meta,\n    });\n\n    return result;\n  });\n\n  server.get(\"/api/agents/list\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    return { agents: multiAgentSystem.listAgents() };\n  });\n\n  // Audit logs\n  server.get(\"/api/audit\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const user = userDB.getUser(req.user!.id);\n    if (user?.role !== \"admin\") {\n      reply.code(403);\n      return { error: \"Admin access required\" };\n    }\n\n    const logs = userDB.getAuditLogs(undefined, 100);\n    return { logs };\n  });\n\n  // Tools routes\n  server.get(\"/api/tools\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const authorizedTools = toolAuth.getAuthorizedTools(req.user!.id);\n    const toolList = Object.entries(tools)\n      .filter(([name]) => authorizedTools.includes(name))\n      .map(([name, tool]) => ({\n        name: tool.name,\n        description: tool.description,\n        inputSchema: tool.inputSchema,\n      }));\n\n    return { tools: toolList };\n  });\n}\n\n","size_bytes":7682},"HACKATHON_SUMMARY.md":{"content":"# üèÜ Agentverse - Hackathon Summary\n\n## ‚úÖ All Features Implemented\n\n### üéØ Core MVP Features\n\n- ‚úÖ Single agent (Travel Planner) with chat UI\n- ‚úÖ REST API endpoints\n- ‚úÖ Persistent memory (SQLite)\n- ‚úÖ Mock external tools (flights/hotels)\n- ‚úÖ Planning algorithm (goal decomposition + step queue)\n- ‚úÖ Unit tests\n\n### üöÄ Advanced Features Added for Hackathon\n\n#### 1. **Analytics Dashboard** üìä\n\n- Real-time performance metrics\n- Agent success rates\n- Goal completion statistics\n- Execution time analytics\n- Visual performance tables\n\n#### 2. **Agent Marketplace** üõí\n\n- 4 pre-built agent templates\n- One-click agent creation\n- Template categories\n- Beautiful card-based UI\n\n#### 3. **Demo Scenarios** üé¨\n\n- 4 pre-configured scenarios\n- One-click demo execution\n- Perfect for presentations\n- Showcase different use cases\n\n#### 4. **Export/Import** üíæ\n\n- Export agent configurations\n- Export agent memories\n- Import agents from files\n- Backup and restore\n\n#### 5. **Enhanced UI** üé®\n\n- Modern tabbed interface\n- Smooth animations\n- Better visualizations\n- Responsive design\n- Professional styling\n\n#### 6. **Multi-Agent System** ü§ù\n\n- Agent delegation\n- Agent coordination\n- Multi-agent broadcasting\n\n#### 7. **Advanced Orchestration** ‚ö°\n\n- Concurrency control\n- Timeout & retry with exponential backoff\n- Simulate mode\n- Error handling\n\n#### 8. **Security & Access Control** üîí\n\n- JWT authentication\n- RBAC (Role-Based Access Control)\n- Tool authorization\n- Audit logs\n\n#### 9. **LLM Integration** üß†\n\n- OpenAI support\n- Gemini fallback\n- Rule-based planner (works without API keys)\n- Natural language parsing\n\n#### 10. **Infrastructure** üèóÔ∏è\n\n- Docker support\n- Docker Compose\n- GitHub Actions CI/CD\n- Comprehensive tests\n- TypeScript type safety\n\n## üìä Project Statistics\n\n- **30+ TypeScript files**\n- **15+ API endpoints**\n- **4 Agent templates**\n- **4 Demo scenarios**\n- **5 Tools implemented**\n- **Full-stack application**\n- **Production-ready**\n\n## üéØ Key Differentiators\n\n1. **Works Without API Keys**: Rule-based fallback planner\n2. **Complete System**: Not just a demo - production-ready\n3. **Multi-Agent**: Agents can delegate and coordinate\n4. **Analytics**: Track performance and improve over time\n5. **Marketplace**: Pre-built templates for quick start\n6. **Beautiful UI**: Modern, polished, professional\n7. **Export/Import**: Enterprise-ready data portability\n8. **Full Documentation**: README, demo scripts, guides\n\n## üöÄ Quick Start\n\n```bash\nnpm install\nnpm run dev\n# Open http://localhost:3000\n# Login: admin@agentverse.com / admin123\n```\n\n## üìù Demo Flow\n\n1. **Marketplace** ‚Üí Create agent from template\n2. **Chat** ‚Üí Submit goal: \"Plan a trip to Goa\"\n3. **Timeline** ‚Üí Watch real-time execution\n4. **Analytics** ‚Üí View performance metrics\n5. **Demo** ‚Üí Try pre-configured scenarios\n\n## üé¨ Presentation Materials\n\n- ‚úÖ Demo script (5-minute and 1-minute versions)\n- ‚úÖ Elevator pitch\n- ‚úÖ Feature documentation\n- ‚úÖ Implementation guide\n\n## üèÖ Why This Will Win\n\n1. **Complete Solution**: Full-stack, production-ready\n2. **Innovation**: Multi-agent coordination, autonomous planning\n3. **User Experience**: Beautiful UI, easy to use\n4. **Technical Excellence**: TypeScript, tests, CI/CD, Docker\n5. **Practical Value**: Solves real problems\n6. **Scalability**: Multi-agent architecture\n7. **Documentation**: Comprehensive guides\n8. **Demo-Ready**: Pre-built scenarios, templates\n\n## üìö Documentation Files\n\n- `README.md` - Complete project documentation\n- `QUICKSTART.md` - Quick start guide\n- `HACKATHON_FEATURES.md` - Feature list\n- `DEMO_SCRIPT.md` - Presentation script\n- `IMPLEMENTATION.md` - Technical details\n\n## üéâ Ready to Win!\n\nEverything is implemented, tested, and ready for the hackathon. Good luck! üöÄ\n\n---\n\n**Status**: ‚úÖ **100% Complete - Ready for Hackathon!**\n","size_bytes":3865},"src/api/export.ts":{"content":"import { FastifyInstance, FastifyRequest, FastifyReply } from \"fastify\";\nimport { AgentDB } from \"../db/AgentDB\";\nimport { Memory } from \"../agents/Memory\";\nimport { AuthRequest, authenticateToken } from \"./auth\";\n\nexport function registerExportRoutes(\n  server: FastifyInstance,\n  agentDB: AgentDB\n) {\n  // Export agent data\n  server.get(\"/api/export/agent/:id\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const params = req.params as { id: string };\n    const agentRecord = agentDB.getAgent(params.id);\n    \n    if (!agentRecord || agentRecord.userId !== req.user!.id) {\n      reply.code(404);\n      return { error: \"Agent not found\" };\n    }\n\n    try {\n      const memory = new Memory(`memory_${params.id}.db`);\n      const memories = memory.dump();\n      \n      const exportData = {\n        agent: {\n          id: agentRecord.id,\n          name: agentRecord.name,\n          type: agentRecord.type,\n          config: agentRecord.config,\n          createdAt: agentRecord.createdAt,\n        },\n        memories: memories.map((m: any) => ({\n          key: m.key,\n          value: typeof m.value === 'string' ? JSON.parse(m.value) : m.value,\n          timestamp: m.ts,\n        })),\n        exportedAt: Date.now(),\n        version: \"1.0\",\n      };\n\n      reply.header('Content-Type', 'application/json');\n      reply.header('Content-Disposition', `attachment; filename=\"agent_${params.id}_${Date.now()}.json\"`);\n      return exportData;\n    } catch (error: any) {\n      reply.code(500);\n      return { error: error.message };\n    }\n  });\n\n  // Import agent data\n  server.post(\"/api/import/agent\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const body = req.body as any;\n    \n    if (!body.agent || !body.memories) {\n      reply.code(400);\n      return { error: \"Invalid import data\" };\n    }\n\n    try {\n      // Create new agent from import\n      const agentRecord = agentDB.createAgent(\n        req.user!.id,\n        body.agent.type || \"travel_planner\",\n        body.agent.name || \"Imported Agent\",\n        body.agent.config || {}\n      );\n\n      // Import memories\n      const memory = new Memory(`memory_${agentRecord.id}.db`);\n      for (const mem of body.memories) {\n        memory.add(mem.key, mem.value);\n      }\n\n      return {\n        success: true,\n        agentId: agentRecord.id,\n        importedMemories: body.memories.length,\n      };\n    } catch (error: any) {\n      reply.code(500);\n      return { error: error.message };\n    }\n  });\n}\n\n","size_bytes":2545},"IMPLEMENTATION.md":{"content":"# Implementation Summary\n\n## ‚úÖ Completed Features\n\n### Core Architecture\n- ‚úÖ **Agent Core**: Base Agent class with Planner, Memory, Executor, and ToolInterface\n- ‚úÖ **Planning Algorithm**: Goal decomposition with step queue management\n- ‚úÖ **Memory System**: SQLite-based persistent memory with pattern matching\n- ‚úÖ **Executor**: Step execution with retry, timeout, and concurrency control\n- ‚úÖ **Travel Planner Agent**: Specialized agent implementation\n\n### Tools & Integrations\n- ‚úÖ **Mock Flight Tool**: Search flights with mock data\n- ‚úÖ **Mock Hotel Tool**: Search hotels with mock data\n- ‚úÖ **Web Scraper Tool**: Scrape web content using Cheerio\n- ‚úÖ **Tool Authorization**: Role-based tool access control\n- ‚úÖ **LLM Integration**: OpenAI and Gemini support for natural language planning\n\n### API & Backend\n- ‚úÖ **REST API**: Comprehensive endpoints for agents, goals, memory, users\n- ‚úÖ **Authentication**: JWT-based auth with registration/login\n- ‚úÖ **User Management**: User profiles with preferences\n- ‚úÖ **Agent Management**: Create, list, delete agents\n- ‚úÖ **Multi-Agent System**: Agent delegation and coordination\n- ‚úÖ **Audit Logs**: Complete activity tracking\n- ‚úÖ **RBAC**: Role-based access control (Admin, User, Agent)\n\n### Frontend\n- ‚úÖ **Modern UI**: Single-page application with chat interface\n- ‚úÖ **Plan Visualization**: Timeline view of goal execution\n- ‚úÖ **Real-time Updates**: WebSocket support for live progress\n- ‚úÖ **Agent Management**: Create and switch between agents\n- ‚úÖ **Simulate Mode**: Safe testing without real API calls\n\n### Infrastructure\n- ‚úÖ **Docker Support**: Dockerfile and docker-compose.yml\n- ‚úÖ **CI/CD**: GitHub Actions workflow\n- ‚úÖ **Testing**: Jest test suite with unit tests\n- ‚úÖ **TypeScript**: Full type safety\n- ‚úÖ **Database**: SQLite for persistence\n\n### Orchestration\n- ‚úÖ **Concurrency Control**: Manage multiple agent tasks\n- ‚úÖ **Timeout & Retry**: Robust error handling with exponential backoff\n- ‚úÖ **Simulate Mode**: Safe demo mode\n- ‚úÖ **Goal Queue**: Async goal processing\n\n## üìÅ File Structure\n\n```\nagentverse/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ agents/              # Core agent system\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Agent.ts         # Base agent class\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Planner.ts       # Planning logic with LLM\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Memory.ts        # Persistent memory\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Executor.ts      # Step execution\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TravelPlanner.ts # Travel agent\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LLMService.ts    # OpenAI/Gemini integration\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MultiAgentSystem.ts # Multi-agent coordination\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GoalQueue.ts     # Goal queue management\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tools/           # Tool implementations\n‚îÇ   ‚îú‚îÄ‚îÄ api/                 # API routes\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts          # Authentication\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.ts        # REST endpoints\n‚îÇ   ‚îú‚îÄ‚îÄ db/                  # Database layer\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserDB.ts        # User management\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AgentDB.ts       # Agent persistence\n‚îÇ   ‚îú‚îÄ‚îÄ __tests__/           # Test files\n‚îÇ   ‚îî‚îÄ‚îÄ server.ts            # Main server\n‚îú‚îÄ‚îÄ public/                  # Frontend\n‚îÇ   ‚îú‚îÄ‚îÄ index.html          # Main HTML\n‚îÇ   ‚îî‚îÄ‚îÄ app.js              # Frontend JavaScript\n‚îú‚îÄ‚îÄ Dockerfile              # Docker configuration\n‚îú‚îÄ‚îÄ docker-compose.yml      # Docker Compose\n‚îú‚îÄ‚îÄ jest.config.js          # Jest configuration\n‚îî‚îÄ‚îÄ README.md               # Documentation\n```\n\n## üîë Key Components\n\n### 1. Agent System\n- **Agent**: Base class for all agents\n- **Planner**: Uses LLM to create execution plans\n- **Memory**: Stores context and history\n- **Executor**: Executes plan steps with error handling\n\n### 2. Multi-Agent System\n- **MultiAgentSystem**: Manages multiple agents\n- **Delegation**: Agents can delegate goals to other agents\n- **Broadcasting**: Send goals to multiple agents\n\n### 3. Authentication & Authorization\n- **JWT Authentication**: Secure token-based auth\n- **RBAC**: Role-based access control\n- **Tool Authorization**: Control tool access by role\n\n### 4. API Endpoints\n- `/api/auth/*` - Authentication\n- `/api/agents/*` - Agent management\n- `/api/user/*` - User management\n- `/api/audit` - Audit logs\n- `/ws/:agentId` - WebSocket for live updates\n\n## üéØ Usage Flow\n\n1. **User Registration/Login**: Create account or login\n2. **Create Agent**: Set up a new agent instance\n3. **Submit Goal**: Send a natural language goal\n4. **Planning**: Agent creates execution plan using LLM\n5. **Execution**: Agent executes plan steps\n6. **Results**: View results in chat and timeline\n\n## üß™ Testing\n\nRun tests with:\n```bash\nnpm test\n```\n\nTest coverage includes:\n- Agent goal handling\n- Memory operations\n- Executor with retry/timeout\n- Tool execution\n\n## üê≥ Docker\n\nBuild and run:\n```bash\ndocker-compose up -d\n```\n\n## üìä Statistics\n\n- **22 TypeScript files**\n- **3 Test files**\n- **5 Tool implementations**\n- **15+ API endpoints**\n- **Full-stack application**\n\n## üöÄ Next Steps (Future Enhancements)\n\n- Real API integrations (flights/hotels)\n- Advanced planning algorithms\n- Agent marketplace\n- Visual plan builder\n- Performance optimizations\n- More agent types\n\n---\n\n**Status**: ‚úÖ MVP Complete - All features implemented and tested!\n\n","size_bytes":5328},"src/agents/MultiAgentSystem.ts":{"content":"import { Agent } from \"./Agent\";\nimport { Goal } from \"./Agent\";\nimport { Memory } from \"./Memory\";\nimport { Planner } from \"./Planner\";\nimport { Executor } from \"./Executor\";\nimport { Tool } from \"./tools/Tool\";\n\nexport interface AgentRegistry {\n  [agentId: string]: Agent;\n}\n\nexport class MultiAgentSystem {\n  private agents: AgentRegistry = {};\n  private agentMemories: Map<string, Memory> = new Map();\n\n  registerAgent(agentId: string, agent: Agent) {\n    this.agents[agentId] = agent;\n  }\n\n  getAgent(agentId: string): Agent | undefined {\n    return this.agents[agentId];\n  }\n\n  async delegateGoal(fromAgentId: string, toAgentId: string, goal: Goal): Promise<any> {\n    const toAgent = this.agents[toAgentId];\n    if (!toAgent) {\n      throw new Error(`Agent ${toAgentId} not found`);\n    }\n\n    // Share relevant context from source agent\n    const fromAgent = this.agents[fromAgentId];\n    if (fromAgent) {\n      const sharedContext = fromAgent.memory.query(\"goal_\").slice(0, 3);\n      sharedContext.forEach((ctx) => {\n        toAgent.memory.add(`delegated_context_${fromAgentId}`, ctx);\n      });\n    }\n\n    const result = await toAgent.handleGoal(goal);\n    \n    // Share result back to source agent\n    if (fromAgent) {\n      fromAgent.memory.add(`delegated_result_${toAgentId}_${goal.id}`, result);\n    }\n\n    return result;\n  }\n\n  async broadcastGoal(goal: Goal, agentIds?: string[]): Promise<Map<string, any>> {\n    const targets = agentIds || Object.keys(this.agents);\n    const results = new Map<string, any>();\n\n    await Promise.all(\n      targets.map(async (agentId) => {\n        const agent = this.agents[agentId];\n        if (agent) {\n          try {\n            const result = await agent.handleGoal(goal);\n            results.set(agentId, result);\n          } catch (error: any) {\n            results.set(agentId, { error: error.message });\n          }\n        }\n      })\n    );\n\n    return results;\n  }\n\n  listAgents(): string[] {\n    return Object.keys(this.agents);\n  }\n}\n\n","size_bytes":1998},"src/agents/TravelPlanner.ts":{"content":"import { Agent } from \"./Agent\";\nexport class TravelPlanner extends Agent {}\n","size_bytes":77},"TELEGRAM_SETUP.md":{"content":"# ü§ñ Telegram Bot Setup Guide\n\n## Quick Start\n\n### 1. Create a Telegram Bot\n\n1. Open Telegram and search for **@BotFather**\n2. Send `/newbot` command\n3. Follow the instructions to name your bot\n4. You'll receive a **bot token** (looks like: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)\n\n### 2. Configure the Bot\n\n1. Copy the `.env.example` to `.env`:\n   ```bash\n   cp .env.example .env\n   ```\n\n2. Add your Telegram bot token to `.env`:\n   ```env\n   TELEGRAM_BOT_TOKEN=your-bot-token-here\n   ```\n\n3. Restart the server:\n   ```bash\n   npm run dev\n   ```\n\n### 3. Start Using the Bot\n\n1. Search for your bot on Telegram (use the name you gave it)\n2. Send `/start` to begin\n3. Start chatting! Try:\n   - \"Plan a trip to Goa for next month\"\n   - \"I want to become a software engineer\"\n   - \"Explain JavaScript\"\n   - \"Create a quiz on Python\"\n\n## Commands\n\n- `/start` - Start the bot and create default agent\n- `/help` - Show help and examples\n- `/agents` - List your agents\n- `/create <type>` - Create a new agent\n  - Types: `travel`, `career`, `study`, `automation`\n\n## Features\n\n### ‚úàÔ∏è Travel Planning\n```\nYou: Plan a trip to Goa for next month\nBot: [Searches flights and hotels, shows options with prices]\n```\n\n### üéØ Career Guidance\n```\nYou: I want to become a data scientist\nBot: [Shows career path, skills, salary, companies, certifications]\n```\n\n### üìö Study Buddy\n```\nYou: Explain JavaScript\nBot: [Provides detailed explanation with concepts and examples]\n\nYou: Create a quiz on Python with 5 questions\nBot: [Generates quiz with multiple choice questions]\n```\n\n### ü§ñ Task Automation\n```\nYou: Automate email sending task\nBot: [Analyzes task, creates automation plan with steps]\n```\n\n## Example Conversations\n\n### Travel Planning\n```\nYou: Plan a trip to Mumbai for 2 nights\nBot: \n‚úàÔ∏è Travel Plan Ready!\n\nFlight Options:\n1. IndiGo - FL001\n   Bangalore (BLR) ‚Üí Mumbai Airport\n   Date: 2025-12-20\n   Price: ‚Çπ3,500\n\nHotel Options:\n1. Grand Mumbai Hotel ‚≠ê 4.3\n   Location: Marine Drive\n   2 nights\n   Total: ‚Çπ2,400\n```\n\n### Career Guidance\n```\nYou: Career guidance for software engineer\nBot:\nüéØ Career Guidance\n\nCareer Path:\nComputer Science Degree ‚Üí Internships ‚Üí Junior Developer ‚Üí Senior Developer\n\nSalary: ‚Çπ8-25 LPA\n\nSkills:\n1. Programming\n2. Problem Solving\n3. System Design\n...\n```\n\n## Troubleshooting\n\n### Bot not responding?\n1. Check if `TELEGRAM_BOT_TOKEN` is set in `.env`\n2. Verify the token is correct (from @BotFather)\n3. Restart the server after adding token\n4. Check server logs for errors\n\n### Getting errors?\n- Make sure the bot token is valid\n- Check that the server is running\n- Verify internet connection (Telegram API needs internet)\n\n## Security Notes\n\n- Never share your bot token publicly\n- Keep `.env` file in `.gitignore`\n- Each Telegram user gets their own agent instance\n- Agents are isolated per user\n\n## Advanced Usage\n\n### Multiple Agents\nCreate different agents for different purposes:\n```\n/create travel\n/create career\n/create study\n```\n\n### Web Scraping\nInclude URLs in your messages:\n```\nYou: Scrape content from https://example.com\nBot: [Scrapes and returns content]\n```\n\n---\n\n**Enjoy your AI agent assistant on Telegram! üöÄ**\n\n","size_bytes":3189},"src/agents/TaskAutomation.ts":{"content":"import { Agent } from \"./Agent\";\n\nexport class TaskAutomation extends Agent {\n  // Task automation bot with memory and reasoning\n  async automateTask(task: string, context?: any) {\n    return this.handleGoal({\n      text: `Automate this task: ${task}`,\n      meta: { type: 'automation', context }\n    });\n  }\n\n  async rememberTask(task: string, details: any) {\n    this.memory.add(`task_${Date.now()}`, {\n      task,\n      details,\n      timestamp: Date.now()\n    });\n  }\n\n  async recallTasks(pattern?: string) {\n    const tasks = this.memory.query(pattern ? `task_%${pattern}%` : 'task_%');\n    return tasks;\n  }\n}\n\n","size_bytes":617},"src/agents/prompts.ts":{"content":"export const plannerPrompt = (goal: string, tools: string) => `\nYou are a planner AI that creates a sequence of steps to achieve a user's goal.\nBased on the user's goal, create a plan using the available tools.\nThe final step should almost always be 'respond' to present the result to the user.\n\nGoal: \"${goal}\"\n\nAvailable tools:\n${tools}\n- respond: Respond to the user with a final answer when the goal is complete or if no other tools are suitable. Input: { text: string }\n\nRespond with a JSON object containing a 'steps' array. Each step should have an 'id', 'type', and 'input'.\n\nExample:\nGoal: \"I want to book a trip to Goa for next month\"\n{\n  \"steps\": [\n    { \"id\": \"1\", \"type\": \"search_flights\", \"input\": { \"destination\": \"Goa\" } },\n    { \"id\": \"2\", \"type\": \"choose_flight\", \"input\": { \"criteria\": \"cheapest\" } }\n  ]\n}\n`;","size_bytes":828},"src/agents/tools/CareerTool.ts":{"content":"import { Tool } from './Tool';\n\nconst CAREER_RESOURCES: Record<string, any> = {\n  'software engineer': {\n    skills: ['Programming', 'Problem Solving', 'System Design', 'Algorithms'],\n    path: 'Computer Science Degree ‚Üí Internships ‚Üí Junior Developer ‚Üí Senior Developer',\n    salary: '‚Çπ8-25 LPA',\n    companies: ['Google', 'Microsoft', 'Amazon', 'Flipkart', 'Zomato'],\n    certifications: ['AWS', 'Google Cloud', 'Kubernetes'],\n  },\n  'data scientist': {\n    skills: ['Python', 'Machine Learning', 'Statistics', 'Data Visualization'],\n    path: 'Statistics/CS Degree ‚Üí Data Analyst ‚Üí Data Scientist ‚Üí ML Engineer',\n    salary: '‚Çπ10-30 LPA',\n    companies: ['Amazon', 'Microsoft', 'Flipkart', 'Ola', 'Swiggy'],\n    certifications: ['TensorFlow', 'PyTorch', 'AWS ML'],\n  },\n  'product manager': {\n    skills: ['Product Strategy', 'User Research', 'Analytics', 'Communication'],\n    path: 'Business/Engineering Degree ‚Üí Associate PM ‚Üí PM ‚Üí Senior PM',\n    salary: '‚Çπ15-40 LPA',\n    companies: ['Google', 'Amazon', 'Flipkart', 'Razorpay', 'PhonePe'],\n    certifications: ['Product Management', 'Agile', 'Scrum'],\n  },\n  'marketing': {\n    skills: ['Digital Marketing', 'Content Creation', 'Analytics', 'SEO'],\n    path: 'Marketing Degree ‚Üí Marketing Executive ‚Üí Manager ‚Üí Director',\n    salary: '‚Çπ5-20 LPA',\n    companies: ['Amazon', 'Flipkart', 'Zomato', 'Swiggy', 'Myntra'],\n    certifications: ['Google Ads', 'Facebook Blueprint', 'HubSpot'],\n  },\n};\n\nexport const CareerTool: Tool = {\n  name: 'career_guidance',\n  description: 'Provides career guidance, skills, career paths, and salary information',\n  inputSchema: { career: 'string', query: 'string' },\n  async execute(input: any) {\n    console.log('Providing career guidance for', input);\n    await new Promise((r) => setTimeout(r, 400));\n    \n    const career = (input.career || input.query || '').toLowerCase();\n    const resource = CAREER_RESOURCES[career] || CAREER_RESOURCES['software engineer'];\n    \n    return {\n      ok: true,\n      career: career,\n      guidance: {\n        skills: resource.skills,\n        careerPath: resource.path,\n        salaryRange: resource.salary,\n        topCompanies: resource.companies,\n        recommendedCertifications: resource.certifications,\n        tips: [\n          'Build a strong portfolio',\n          'Network with professionals',\n          'Stay updated with industry trends',\n          'Practice interview questions',\n          'Consider internships',\n        ],\n      },\n    };\n  },\n};\n\n","size_bytes":2523},"src/agents/Executor.ts":{"content":"import { Memory } from \"./Memory\";\nimport { Tool } from \"./tools/Tool\";\n\nexport interface ExecutionOptions {\n  retries?: number;\n  timeout?: number;\n  simulate?: boolean;\n  concurrency?: number;\n}\n\nexport class Executor {\n  tools: Record<string, Tool>;\n  private activeExecutions: Map<string, Promise<any>> = new Map();\n  private maxConcurrency: number;\n\n  constructor(tools: Record<string, Tool>, maxConcurrency: number = 3) {\n    this.tools = tools;\n    this.maxConcurrency = maxConcurrency;\n  }\n\n  async execute(\n    step: { id: string; type: string; input: any },\n    memory: Memory,\n    options: ExecutionOptions = {}\n  ) {\n    const { retries = 3, timeout = 30000, simulate = false } = options;\n\n    if (simulate) {\n      return this.simulateExecution(step);\n    }\n\n    const executionKey = `${step.id}_${step.type}`;\n    \n    // Check if already executing\n    if (this.activeExecutions.has(executionKey)) {\n      return await this.activeExecutions.get(executionKey);\n    }\n\n    const executionPromise = this.executeWithRetry(step, memory, retries, timeout);\n    this.activeExecutions.set(executionKey, executionPromise);\n\n    try {\n      const result = await executionPromise;\n      return result;\n    } finally {\n      this.activeExecutions.delete(executionKey);\n    }\n  }\n\n  private async executeWithRetry(\n    step: { id: string; type: string; input: any },\n    memory: Memory,\n    retries: number,\n    timeout: number\n  ) {\n    for (let i = 0; i < retries; i++) {\n      try {\n        const tool = this.tools[step.type];\n\n        if (tool) {\n          const timeoutPromise = new Promise((_, reject) =>\n            setTimeout(() => reject(new Error(\"Tool execution timed out\")), timeout)\n          );\n          const result = await Promise.race([\n            tool.execute(step.input, memory),\n            timeoutPromise,\n          ]);\n          // Optionally add result to memory\n          memory.add(`last_result_${step.type}`, result);\n          return result;\n        } else if (step.type === \"respond\") {\n          return { ok: true, text: \"Response: \" + (step.input.text || \"\") };\n        }\n        return { error: `Unknown step type ${step.type}` };\n      } catch (err: any) {\n        if (i < retries - 1) {\n          await new Promise((r) => setTimeout(r, 1000 * (i + 1))); // Exponential backoff\n        } else {\n          return { error: err.message || String(err) };\n        }\n      }\n    }\n  }\n\n  private async simulateExecution(step: { id: string; type: string; input: any }) {\n    await new Promise((r) => setTimeout(r, 500)); // Simulate delay\n    return {\n      ok: true,\n      simulated: true,\n      step: step.type,\n      message: `Simulated execution of ${step.type}`,\n    };\n  }\n\n  async executeConcurrent(steps: Array<{ id: string; type: string; input: any }>, memory: Memory, options: ExecutionOptions = {}) {\n    const results: any[] = [];\n    const concurrency = options.concurrency || this.maxConcurrency;\n    const chunks: Array<Array<{ id: string; type: string; input: any }>> = [];\n\n    // Split into chunks\n    for (let i = 0; i < steps.length; i += concurrency) {\n      chunks.push(steps.slice(i, i + concurrency));\n    }\n\n    // Execute chunks sequentially, steps within chunk concurrently\n    for (const chunk of chunks) {\n      const chunkResults = await Promise.all(\n        chunk.map(step => this.execute(step, memory, options))\n      );\n      results.push(...chunkResults);\n    }\n\n    return results;\n  }\n}\n","size_bytes":3451},"src/agents/tools/AutomationTool.ts":{"content":"import { Tool } from './Tool';\n\nexport const AutomationTool: Tool = {\n  name: 'automate_task',\n  description: 'Automates tasks with reasoning and memory',\n  inputSchema: { task: 'string', context: 'object' },\n  async execute(input: any, memory?: any) {\n    console.log('Automating task', input);\n    await new Promise((r) => setTimeout(r, 500));\n    \n    const task = input.task || '';\n    const context = input.context || {};\n    \n    // Analyze task and create automation plan\n    const taskType = analyzeTask(task);\n    \n    return {\n      ok: true,\n      task: task,\n      automation: {\n        type: taskType.type,\n        steps: taskType.steps,\n        estimatedTime: taskType.time,\n        status: 'planned',\n        reasoning: taskType.reasoning,\n      },\n      result: `Task \"${task}\" has been analyzed and automation plan created.`,\n    };\n  },\n};\n\nfunction analyzeTask(task: string): any {\n  const lowerTask = task.toLowerCase();\n  \n  if (lowerTask.includes('email') || lowerTask.includes('send')) {\n    return {\n      type: 'email_automation',\n      steps: [\n        'Parse email content',\n        'Extract recipients',\n        'Format message',\n        'Send email',\n        'Log activity',\n      ],\n      time: '2 minutes',\n      reasoning: 'Email tasks can be automated by parsing content and using email APIs.',\n    };\n  } else if (lowerTask.includes('file') || lowerTask.includes('organize')) {\n    return {\n      type: 'file_automation',\n      steps: [\n        'Scan directory',\n        'Categorize files',\n        'Move to appropriate folders',\n        'Create summary report',\n      ],\n      time: '5 minutes',\n      reasoning: 'File organization can be automated using file system operations.',\n    };\n  } else if (lowerTask.includes('data') || lowerTask.includes('process')) {\n    return {\n      type: 'data_processing',\n      steps: [\n        'Load data source',\n        'Transform data',\n        'Validate data',\n        'Save processed data',\n        'Generate report',\n      ],\n      time: '10 minutes',\n      reasoning: 'Data processing tasks follow a standard ETL pattern.',\n    };\n  } else if (lowerTask.includes('reminder') || lowerTask.includes('schedule')) {\n    return {\n      type: 'scheduling',\n      steps: [\n        'Parse schedule details',\n        'Create calendar event',\n        'Set reminders',\n        'Send notifications',\n      ],\n      time: '1 minute',\n      reasoning: 'Scheduling tasks can be automated using calendar APIs.',\n    };\n  } else {\n    return {\n      type: 'general_automation',\n      steps: [\n        'Analyze task requirements',\n        'Break down into steps',\n        'Execute steps sequentially',\n        'Verify completion',\n        'Report results',\n      ],\n      time: 'Variable',\n      reasoning: 'General tasks require analysis before automation.',\n    };\n  }\n}\n\n// WebScrapingTool is already defined in WebScraperTool.ts, no need to duplicate\n\n","size_bytes":2917},"src/__tests__/Agent.test.ts":{"content":"import { Agent } from '../agents/Agent';\nimport { Memory } from '../agents/Memory';\nimport { Planner } from '../agents/Planner';\nimport { Executor } from '../agents/Executor';\nimport { TravelPlanner } from '../agents/TravelPlanner';\nimport { Tool } from '../agents/tools/Tool';\n\ndescribe('Agent', () => {\n  let memory: Memory;\n  let planner: Planner;\n  let executor: Executor;\n  let agent: TravelPlanner;\n  let mockTools: Record<string, Tool>;\n\n  beforeEach(() => {\n    memory = new Memory(':memory:');\n    mockTools = {\n      respond: {\n        name: 'respond',\n        description: 'Respond to user',\n        inputSchema: { text: 'string' },\n        async execute(input: any) {\n          return { ok: true, text: input.text };\n        },\n      },\n    };\n    planner = new Planner(mockTools);\n    executor = new Executor(mockTools);\n    agent = new TravelPlanner('test-agent', memory, planner, executor);\n  });\n\n  test('should handle a simple goal', async () => {\n    const result = await agent.handleGoal({\n      text: 'Test goal',\n      meta: {},\n    }, { simulate: true });\n\n    expect(result).toBeDefined();\n    expect(result.goalId).toBeDefined();\n    expect(result.plan).toBeDefined();\n    expect(result.status).toBeDefined();\n  });\n\n  test('should store goal in memory', async () => {\n    await agent.handleGoal({\n      text: 'Test goal',\n    }, { simulate: true });\n\n    const memories = memory.query('goal_');\n    expect(memories.length).toBeGreaterThan(0);\n  });\n});\n\n","size_bytes":1479},"src/bot/TelegramBot.ts":{"content":"import TelegramBot from \"node-telegram-bot-api\";\nimport { UserDB } from \"../db/UserDB\";\nimport { AgentDB } from \"../db/AgentDB\";\nimport { Memory } from \"../agents/Memory\";\nimport { Planner } from \"../agents/Planner\";\nimport { Executor } from \"../agents/Executor\";\nimport { TravelPlanner } from \"../agents/TravelPlanner\";\nimport { CareerCoach } from \"../agents/CareerCoach\";\nimport { StudyBuddy } from \"../agents/StudyBuddy\";\nimport { TaskAutomation } from \"../agents/TaskAutomation\";\nimport { Tool } from \"../agents/tools/Tool\";\nimport { v4 as uuid } from \"uuid\";\n\nexport class TelegramBotService {\n  private bot: TelegramBot | null = null;\n  private userDB: UserDB;\n  private agentDB: AgentDB;\n  private tools: Record<string, Tool>;\n  private userAgents: Map<string, string> = new Map(); // telegramUserId -> agentId\n  private agentInstances: Map<string, any> = new Map();\n\n  constructor(userDB: UserDB, agentDB: AgentDB, tools: Record<string, Tool>) {\n    this.userDB = userDB;\n    this.agentDB = agentDB;\n    this.tools = tools;\n  }\n\n  async start() {\n    const token = process.env.TELEGRAM_BOT_TOKEN;\n    if (!token || token === 'your bot token' || token.includes('your') || token.length < 20) {\n      console.log(\"‚ö†Ô∏è  Telegram bot token not configured. Set TELEGRAM_BOT_TOKEN in .env to enable Telegram bot.\");\n      return;\n    }\n\n    try {\n      this.bot = new TelegramBot(token, { polling: true });\n\n    // Handle /start command\n    this.bot.onText(/\\/start/, async (msg) => {\n      const chatId = msg.chat.id;\n      await this.handleStart(chatId);\n    });\n\n    // Handle /help command\n    this.bot.onText(/\\/help/, async (msg) => {\n      const chatId = msg.chat.id;\n      await this.handleHelp(chatId);\n    });\n\n    // Handle /agents command\n    this.bot.onText(/\\/agents/, async (msg) => {\n      const chatId = msg.chat.id;\n      await this.handleListAgents(chatId);\n    });\n\n    // Handle /create command\n    this.bot.onText(/\\/create (.+)/, async (msg, match) => {\n      const chatId = msg.chat.id;\n      const agentType = match?.[1] || \"travel_planner\";\n      await this.handleCreateAgent(chatId, agentType);\n    });\n\n    // Handle all other messages as goals\n    this.bot.on(\"message\", async (msg) => {\n      if (msg.text && !msg.text.startsWith(\"/\")) {\n        await this.handleMessage(msg);\n      }\n    });\n\n    console.log(\"‚úÖ Telegram bot started successfully!\");\n    } catch (error: any) {\n      console.log(\"‚ö†Ô∏è  Failed to start Telegram bot:\", error.message);\n      console.log(\"   Set a valid TELEGRAM_BOT_TOKEN in .env to enable Telegram bot.\");\n    }\n  }\n\n  private async handleStart(chatId: number) {\n    const welcomeMessage = `ü§ñ Welcome to Agentverse!\n\nI'm your AI agent assistant. I can help you with:\n‚úàÔ∏è Travel Planning\nüéØ Career Guidance\nüìö Study & Learning\nü§ñ Task Automation\n\nCommands:\n/help - Show help\n/agents - List your agents\n/create <type> - Create agent (travel_planner, career_coach, study_buddy, task_automation)\n\nJust send me a message like:\n\"Plan a trip to Goa\"\n\"I want to become a software engineer\"\n\"Explain JavaScript\"\n\"Automate email sending\"\n\nLet's get started! üöÄ`;\n\n    await this.bot?.sendMessage(chatId, welcomeMessage);\n\n    // Create default agent for user\n    await this.ensureDefaultAgent(chatId);\n  }\n\n  private async handleHelp(chatId: number) {\n    const helpMessage = `üìö Agentverse Help\n\n**Available Agent Types:**\n1. travel_planner - Plan trips, find flights & hotels\n2. career_coach - Career guidance and advice\n3. study_buddy - Learn topics, quizzes, schedules\n4. task_automation - Automate tasks with reasoning\n\n**Commands:**\n/start - Start the bot\n/help - Show this help\n/agents - List your agents\n/create <type> - Create a new agent\n\n**Examples:**\n\"Plan a trip to Goa for next month\"\n\"Career guidance for data scientist\"\n\"Explain Python programming\"\n\"Create a quiz on JavaScript\"\n\"Automate file organization task\"\n\n**Web Scraping:**\nInclude URLs in your messages to scrape content!\n\nNeed more help? Just ask! üòä`;\n\n    await this.bot?.sendMessage(chatId, helpMessage, { parse_mode: \"Markdown\" });\n  }\n\n  private async handleListAgents(chatId: number) {\n    const userId = await this.getOrCreateTelegramUser(chatId);\n    const agents = this.agentDB.getUserAgents(userId);\n\n    if (agents.length === 0) {\n      await this.bot?.sendMessage(chatId, \"You don't have any agents yet. Use /create <type> to create one!\");\n      return;\n    }\n\n    let message = `üìã Your Agents:\\n\\n`;\n    agents.forEach((agent, idx) => {\n      const icon = this.getAgentIcon(agent.type);\n      message += `${idx + 1}. ${icon} ${agent.name}\\n`;\n      message += `   Type: ${agent.type}\\n`;\n      message += `   ID: ${agent.id.substring(0, 8)}...\\n\\n`;\n    });\n\n    message += `Use /create <type> to create more agents!`;\n\n    await this.bot?.sendMessage(chatId, message);\n  }\n\n  private async handleCreateAgent(chatId: number, agentType: string) {\n    const userId = await this.getOrCreateTelegramUser(chatId);\n    \n    const typeMap: Record<string, string> = {\n      \"travel\": \"travel_planner\",\n      \"career\": \"career_coach\",\n      \"study\": \"study_buddy\",\n      \"automation\": \"task_automation\",\n    };\n\n    const normalizedType = typeMap[agentType.toLowerCase()] || agentType;\n\n    const agentNames: Record<string, string> = {\n      travel_planner: \"Travel Planner\",\n      career_coach: \"Career Coach\",\n      study_buddy: \"Study Buddy\",\n      task_automation: \"Task Automation Bot\",\n    };\n\n    const agentRecord = this.agentDB.createAgent(\n      userId,\n      normalizedType,\n      `${agentNames[normalizedType] || \"Agent\"} (Telegram)`,\n      {}\n    );\n\n    this.userAgents.set(chatId.toString(), agentRecord.id);\n\n    await this.bot?.sendMessage(\n      chatId,\n      `‚úÖ Created ${agentNames[normalizedType] || normalizedType} agent!\\n\\nAgent ID: ${agentRecord.id.substring(0, 8)}...\\n\\nYou can now send me goals and I'll execute them! üöÄ`\n    );\n  }\n\n  private async handleMessage(msg: TelegramBot.Message) {\n    const chatId = msg.chat.id;\n    const text = msg.text;\n\n    if (!text) return;\n\n    // Show typing indicator\n    await this.bot?.sendChatAction(chatId, \"typing\");\n\n    try {\n      const agent = await this.getOrCreateAgent(chatId);\n      if (!agent) {\n        await this.bot?.sendMessage(chatId, \"Please create an agent first using /create <type>\");\n        return;\n      }\n\n      // Send processing message\n      const processingMsg = await this.bot?.sendMessage(chatId, \"ü§î Processing your request...\");\n\n      // Execute goal\n      const result = await agent.handleGoal({\n        id: uuid(),\n        text: text,\n        meta: { source: \"telegram\", chatId },\n      });\n\n      // Format and send response\n      const response = this.formatResponse(result);\n      \n      // Delete processing message\n      if (processingMsg) {\n        await this.bot?.deleteMessage(chatId, processingMsg.message_id);\n      }\n\n      // Send response (split if too long)\n      await this.sendLongMessage(chatId, response);\n\n    } catch (error: any) {\n      console.error(\"Telegram bot error:\", error);\n      await this.bot?.sendMessage(chatId, `‚ùå Error: ${error.message || \"Something went wrong\"}`);\n    }\n  }\n\n  private async getOrCreateTelegramUser(chatId: number): Promise<string> {\n    // Create or get user based on Telegram chat ID\n    const email = `telegram_${chatId}@agentverse.com`;\n    \n    // Try to find existing user by email\n    let user = this.userDB.getUserByEmail(email);\n\n    if (!user) {\n      user = await this.userDB.createUser(\n        email,\n        uuid(), // Random password\n        \"user\",\n        { telegramChatId: chatId }\n      );\n    }\n\n    return user.id;\n  }\n\n  private async ensureDefaultAgent(chatId: number) {\n    const userId = await this.getOrCreateTelegramUser(chatId);\n    const agents = this.agentDB.getUserAgents(userId);\n\n    if (agents.length === 0) {\n      // Create default travel planner\n      const agentRecord = this.agentDB.createAgent(\n        userId,\n        \"travel_planner\",\n        \"My Travel Agent\",\n        {}\n      );\n      this.userAgents.set(chatId.toString(), agentRecord.id);\n    } else {\n      this.userAgents.set(chatId.toString(), agents[0].id);\n    }\n  }\n\n  private async getOrCreateAgent(chatId: number): Promise<any> {\n    const userId = await this.getOrCreateTelegramUser(chatId);\n    let agentId = this.userAgents.get(chatId.toString());\n\n    if (!agentId) {\n      const agents = this.agentDB.getUserAgents(userId);\n      if (agents.length === 0) {\n        await this.ensureDefaultAgent(chatId);\n        agentId = this.userAgents.get(chatId.toString());\n      } else {\n        agentId = agents[0].id;\n        this.userAgents.set(chatId.toString(), agentId);\n      }\n    }\n\n    if (!agentId) return null;\n\n    if (this.agentInstances.has(agentId)) {\n      return this.agentInstances.get(agentId);\n    }\n\n    const agentRecord = this.agentDB.getAgent(agentId);\n    if (!agentRecord) return null;\n\n    const memory = new Memory(`memory_${agentId}.db`);\n    const planner = new Planner(this.tools);\n    const executor = new Executor(this.tools);\n\n    let agent: any;\n    switch (agentRecord.type) {\n      case \"career_coach\":\n        agent = new CareerCoach(agentId, memory, planner, executor);\n        break;\n      case \"study_buddy\":\n        agent = new StudyBuddy(agentId, memory, planner, executor);\n        break;\n      case \"task_automation\":\n        agent = new TaskAutomation(agentId, memory, planner, executor);\n        break;\n      case \"travel_planner\":\n      default:\n        agent = new TravelPlanner(agentId, memory, planner, executor);\n        break;\n    }\n\n    this.agentInstances.set(agentId, agent);\n    return agent;\n  }\n\n  private formatResponse(result: any): string {\n    if (result.error) {\n      return `‚ùå Error: ${result.error}`;\n    }\n\n    let message = \"\";\n    let flights: any = null;\n    let hotels: any = null;\n    let careerGuidance: any = null;\n    let explanation: any = null;\n    let quiz: any = null;\n    let schedule: any = null;\n    let automation: any = null;\n    let webContent: any = null;\n\n    // Extract data from trace\n    if (result.trace) {\n      result.trace.forEach((t: any, i: number) => {\n        const step = result.plan?.steps?.[i];\n        if (!step) return;\n\n        if (step.type === \"search_flights\" && t.res?.flights) {\n          flights = t.res.flights;\n        } else if (step.type === \"search_hotels\" && t.res?.hotels) {\n          hotels = t.res.hotels;\n        } else if (step.type === \"career_guidance\" && t.res?.guidance) {\n          careerGuidance = t.res;\n        } else if (step.type === \"explain_topic\" && t.res?.explanation) {\n          explanation = t.res;\n        } else if (step.type === \"create_quiz\" && t.res?.quiz) {\n          quiz = t.res;\n        } else if (step.type === \"schedule_study\" && t.res?.schedule) {\n          schedule = t.res;\n        } else if (step.type === \"automate_task\" && t.res?.automation) {\n          automation = t.res;\n        } else if ((step.type === \"web_scraper\" || step.type === \"web_scraping\") && t.res?.content) {\n          webContent = t.res;\n        }\n      });\n    }\n\n    // Format based on data type\n    if (flights || hotels) {\n      message += \"‚úàÔ∏è *Travel Plan Ready!*\\n\\n\";\n      if (flights) {\n        message += \"*Flight Options:*\\n\";\n        flights.forEach((f: any, idx: number) => {\n          message += `${idx + 1}. ${f.airline || \"Flight\"} - ${f.id}\\n`;\n          message += `   ${f.from} ‚Üí ${f.to}\\n`;\n          message += `   Date: ${f.depart}\\n`;\n          if (f.departTime) message += `   Time: ${f.departTime}\\n`;\n          message += `   Price: ‚Çπ${f.price.toLocaleString()}\\n\\n`;\n        });\n      }\n      if (hotels) {\n        message += \"*Hotel Options:*\\n\";\n        hotels.forEach((h: any, idx: number) => {\n          const total = h.totalPrice || (h.pricePerNight * h.nights);\n          message += `${idx + 1}. ${h.name} ‚≠ê ${h.rating || \"N/A\"}\\n`;\n          message += `   Location: ${h.location}\\n`;\n          message += `   ${h.nights} nights\\n`;\n          message += `   Total: ‚Çπ${total.toLocaleString()}\\n\\n`;\n        });\n      }\n    } else if (careerGuidance && careerGuidance.guidance) {\n      const g = careerGuidance.guidance;\n      message += `üéØ *Career Guidance*\\n\\n`;\n      message += `*Career Path:*\\n${g.careerPath}\\n\\n`;\n      message += `*Salary:* ${g.salaryRange}\\n\\n`;\n      message += `*Skills:*\\n${g.skills.map((s: string, i: number) => `${i + 1}. ${s}`).join(\"\\n\")}\\n\\n`;\n      message += `*Companies:* ${g.topCompanies.join(\", \")}\\n\\n`;\n      message += `*Certifications:*\\n${g.certifications.map((c: string, i: number) => `${i + 1}. ${c}`).join(\"\\n\")}`;\n    } else if (explanation && explanation.explanation) {\n      message += `üìö *${explanation.topic || \"Explanation\"}*\\n\\n`;\n      message += `${explanation.explanation}\\n\\n`;\n      if (explanation.keyConcepts) {\n        message += `*Key Concepts:*\\n${explanation.keyConcepts.map((c: string, i: number) => `${i + 1}. ${c}`).join(\"\\n\")}`;\n      }\n    } else if (quiz && quiz.quiz) {\n      message += `üìù *Quiz: ${quiz.topic || \"Quiz\"}*\\n\\n`;\n      quiz.quiz.questions.forEach((q: any, idx: number) => {\n        message += `*Q${idx + 1}:* ${q.question}\\n`;\n        q.options.forEach((opt: string, optIdx: number) => {\n          const marker = optIdx === q.correctAnswer ? \"‚úÖ\" : \"  \";\n          message += `${marker} ${String.fromCharCode(65 + optIdx)}. ${opt}\\n`;\n        });\n        message += `\\n`;\n      });\n    } else if (schedule && schedule.schedule) {\n      message += `üìÖ *Study Schedule*\\n\\n`;\n      message += `Topic: ${schedule.topic || \"Study\"}\\n`;\n      message += `Duration: ${schedule.schedule.duration}\\n\\n`;\n      schedule.schedule.sessions.forEach((s: any) => {\n        message += `${s.day} - ${s.time}\\n${s.activity}\\n\\n`;\n      });\n    } else if (automation && automation.automation) {\n      message += `ü§ñ *Automation Plan*\\n\\n`;\n      message += `Task: ${automation.task || \"Task\"}\\n`;\n      message += `Type: ${automation.automation.type}\\n\\n`;\n      if (automation.automation.steps) {\n        message += `*Steps:*\\n${automation.automation.steps.map((s: string, i: number) => `${i + 1}. ${s}`).join(\"\\n\")}`;\n      }\n    } else if (webContent && webContent.content) {\n      message += `üåê *Web Content*\\n\\n`;\n      message += `URL: ${webContent.url || \"N/A\"}\\n\\n`;\n      message += webContent.content.substring(0, 1000) || \"No content\";\n    } else {\n      message = `‚úÖ *Request Completed*\\n\\nStatus: ${result.status}\\n\\n`;\n      if (result.plan?.steps) {\n        message += `*Steps Executed:*\\n`;\n        result.plan.steps.forEach((step: any, i: number) => {\n          const trace = result.trace?.[i];\n          const status = trace?.res?.error ? \"‚ùå\" : \"‚úÖ\";\n          message += `${status} ${step.type}\\n`;\n        });\n      }\n    }\n\n    return message;\n  }\n\n  private async sendLongMessage(chatId: number, text: string) {\n    // Telegram has a 4096 character limit per message\n    const maxLength = 4000;\n    if (text.length <= maxLength) {\n      await this.bot?.sendMessage(chatId, text, { parse_mode: \"Markdown\" });\n    } else {\n      // Split into chunks\n      const chunks = [];\n      for (let i = 0; i < text.length; i += maxLength) {\n        chunks.push(text.substring(i, i + maxLength));\n      }\n      for (const chunk of chunks) {\n        await this.bot?.sendMessage(chatId, chunk, { parse_mode: \"Markdown\" });\n      }\n    }\n  }\n\n  private getAgentIcon(type: string): string {\n    const icons: Record<string, string> = {\n      travel_planner: \"‚úàÔ∏è\",\n      career_coach: \"üéØ\",\n      study_buddy: \"üìö\",\n      task_automation: \"ü§ñ\",\n    };\n    return icons[type] || \"ü§ñ\";\n  }\n}\n\n","size_bytes":15695},"src/agents/LLMService.ts":{"content":"import OpenAI from \"openai\";\nimport axios from \"axios\";\n\nexport class LLMService {\n  private openai?: OpenAI;\n  private geminiApiKey?: string;\n\n  constructor() {\n    if (process.env.OPENAI_API_KEY) {\n      this.openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });\n    }\n    this.geminiApiKey = process.env.GEMINI_API_KEY;\n  }\n\n  async generatePlan(goal: string, tools: string, memoryContext?: string): Promise<any> {\n    const prompt = `You are a planner AI that creates a sequence of steps to achieve a user's goal.\nBased on the user's goal, create a plan using the available tools.\nThe final step should almost always be 'respond' to present the result to the user.\n\n${memoryContext ? `Previous context:\\n${memoryContext}\\n\\n` : \"\"}\nGoal: \"${goal}\"\n\nAvailable tools:\n${tools}\n- respond: Respond to the user with a final answer when the goal is complete or if no other tools are suitable. Input: { text: string }\n\nRespond with a JSON object containing a 'steps' array. Each step should have an 'id', 'type', and 'input'.\n\nExample:\nGoal: \"I want to book a trip to Goa for next month\"\n{\n  \"steps\": [\n    { \"id\": \"1\", \"type\": \"search_flights\", \"input\": { \"destination\": \"Goa\" } },\n    { \"id\": \"2\", \"type\": \"search_hotels\", \"input\": { \"destination\": \"Goa\", \"nights\": 3 } },\n    { \"id\": \"3\", \"type\": \"respond\", \"input\": { \"text\": \"Here are your travel options...\" } }\n  ]\n}`;\n\n    // Try OpenAI first, fallback to Gemini\n    if (this.openai) {\n      try {\n        const response = await this.openai.chat.completions.create({\n          model: process.env.OPENAI_MODEL || \"gpt-3.5-turbo\",\n          messages: [{ role: \"user\", content: prompt }],\n          temperature: 0.7,\n        });\n\n        const content = response.choices[0]?.message?.content || \"\";\n        const jsonMatch = content.match(/```json\\n([\\s\\S]*?)\\n```/) || content.match(/\\{[\\s\\S]*\\}/);\n        if (jsonMatch) {\n          return JSON.parse(jsonMatch[1] || jsonMatch[0]);\n        }\n      } catch (error) {\n        console.error(\"OpenAI error:\", error);\n      }\n    }\n\n    // Fallback to Gemini\n    if (this.geminiApiKey) {\n      try {\n        const response = await axios.post(\n          `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${this.geminiApiKey}`,\n          { contents: [{ parts: [{ text: prompt }] }] }\n        );\n\n        const jsonResponse = response.data.candidates[0].content.parts[0].text.replace(/```json|```/g, \"\").trim();\n        return JSON.parse(jsonResponse);\n      } catch (error) {\n        console.error(\"Gemini error:\", error);\n      }\n    }\n\n    // Ultimate fallback - return null to trigger rule-based planner\n    return null;\n  }\n\n  async parseNaturalLanguage(text: string, schema: any): Promise<any> {\n    const prompt = `Parse the following user input and extract structured data according to this schema:\n${JSON.stringify(schema, null, 2)}\n\nUser input: \"${text}\"\n\nReturn only valid JSON matching the schema.`;\n\n    if (this.openai) {\n      try {\n        const response = await this.openai.chat.completions.create({\n          model: process.env.OPENAI_MODEL || \"gpt-3.5-turbo\",\n          messages: [{ role: \"user\", content: prompt }],\n          temperature: 0.3,\n        });\n\n        const content = response.choices[0]?.message?.content || \"\";\n        const jsonMatch = content.match(/\\{[\\s\\S]*\\}/);\n        if (jsonMatch) {\n          return JSON.parse(jsonMatch[0]);\n        }\n      } catch (error) {\n        console.error(\"OpenAI parsing error:\", error);\n      }\n    }\n\n    return {};\n  }\n}\n\n","size_bytes":3537},"AGENT_TYPES.md":{"content":"# ü§ñ Agent Types in Agentverse\n\n## Overview\n\nAgentverse now supports **4 different agent types**, each specialized for different use cases:\n\n1. **Travel Planner** ‚úàÔ∏è\n2. **Career Coach** üéØ\n3. **Study Buddy** üìö\n4. **Task Automation Bot** ü§ñ\n\n---\n\n## 1. Travel Planner ‚úàÔ∏è\n\n### Purpose\n\nHelps users plan trips by finding flights and hotels.\n\n### Capabilities\n\n- Search flights with airlines, times, prices\n- Search hotels with ratings, amenities, locations\n- Calculate total trip costs\n- Web scraping for destination research\n\n### Tools\n\n- `search_flights` - Find flight options\n- `search_hotels` - Find hotel options\n- `web_scraper` - Research destinations\n\n### Example Goals\n\n- \"Plan a trip to Goa for next month\"\n- \"Find flights from Bangalore to Mumbai\"\n- \"Search hotels in Delhi for 3 nights\"\n\n### Templates Available\n\n- Basic Travel Planner\n- Advanced Travel Planner (with web research)\n- Business Travel Agent\n- Budget Travel Planner\n\n---\n\n## 2. Career Coach üéØ\n\n### Purpose\n\nProvides career guidance, skills information, and career path advice.\n\n### Capabilities\n\n- Career path recommendations\n- Required skills for careers\n- Salary range information\n- Top companies in the field\n- Recommended certifications\n- Success tips\n\n### Tools\n\n- `career_guidance` - Get career information\n- `web_scraper` - Research career resources\n\n### Example Goals\n\n- \"I want to become a software engineer, provide career guidance\"\n- \"What skills do I need for data science?\"\n- \"Career advice for product manager\"\n\n### Supported Careers\n\n- Software Engineer\n- Data Scientist\n- Product Manager\n- Marketing Professional\n- (Extensible to more careers)\n\n---\n\n## 3. Study Buddy üìö\n\n### Purpose\n\nHelps with learning by explaining topics, creating quizzes, and scheduling study sessions.\n\n### Capabilities\n\n- **Explain Topics**: Detailed explanations with key concepts and examples\n- **Create Quizzes**: Generate multiple-choice quizzes on any topic\n- **Schedule Study**: Create study schedules with time slots\n\n### Tools\n\n- `explain_topic` - Explain concepts in detail\n- `create_quiz` - Generate quizzes\n- `schedule_study` - Create study schedules\n- `web_scraper` - Research topics\n\n### Example Goals\n\n- \"Explain JavaScript programming language\"\n- \"Create a quiz on Python with 10 questions\"\n- \"Schedule a 2 hour study session for machine learning\"\n\n### Supported Topics\n\n- JavaScript\n- Python\n- Machine Learning\n- React\n- (Extensible to any topic)\n\n---\n\n## 4. Task Automation Bot ü§ñ\n\n### Purpose\n\nAutomates tasks with memory and reasoning capabilities.\n\n### Capabilities\n\n- Analyze tasks and create automation plans\n- Reason about task requirements\n- Remember previous tasks\n- Web scraping for data collection\n- Task categorization (email, file, data, scheduling)\n\n### Tools\n\n- `automate_task` - Analyze and automate tasks\n- `web_scraper` - Scrape web content\n- Memory system for task recall\n\n### Example Goals\n\n- \"Automate the task of sending daily email reports\"\n- \"Organize files in my documents folder\"\n- \"Process data from CSV files\"\n- \"Scrape content from https://example.com\"\n\n### Automation Types\n\n- Email Automation\n- File Organization\n- Data Processing\n- Scheduling/Reminders\n- General Automation\n\n---\n\n## Web Scraping üåê\n\nAll agents can use web scraping to:\n\n- Research destinations (Travel Planner)\n- Gather career information (Career Coach)\n- Learn about topics (Study Buddy)\n- Extract data from websites (Task Automation)\n\n### Usage\n\nAny agent can use web scraping by including URLs in goals:\n\n- \"Research Goa beaches and plan a trip\"\n- \"Scrape career information from job sites\"\n- \"Get the latest information about React from the web\"\n\n---\n\n## Creating Agents\n\n### From Marketplace\n\n1. Go to **Marketplace** tab\n2. Choose a template\n3. Click \"Create Agent\"\n4. Start using immediately!\n\n### Custom Agent\n\n1. Click \"+ New Agent\"\n2. Choose agent type\n3. Configure tools and preferences\n4. Start chatting!\n\n---\n\n## Agent Capabilities Summary\n\n| Feature           | Travel Planner | Career Coach | Study Buddy | Task Automation |\n| ----------------- | -------------- | ------------ | ----------- | --------------- |\n| Specialized Tools | ‚úÖ             | ‚úÖ           | ‚úÖ          | ‚úÖ              |\n| Web Scraping      | ‚úÖ             | ‚úÖ           | ‚úÖ          | ‚úÖ              |\n| Memory            | ‚úÖ             | ‚úÖ           | ‚úÖ          | ‚úÖ              |\n| Multi-Agent       | ‚úÖ             | ‚úÖ           | ‚úÖ          | ‚úÖ              |\n| Analytics         | ‚úÖ             | ‚úÖ           | ‚úÖ          | ‚úÖ              |\n\n---\n\n## Example Use Cases\n\n### Travel Planning\n\n```\nUser: \"Plan a trip to Goa for next month\"\nAgent: [Searches flights] [Searches hotels] [Presents options with prices]\n```\n\n### Career Guidance\n\n```\nUser: \"I want to become a data scientist\"\nAgent: [Provides career path] [Lists skills] [Shows salary range] [Top companies]\n```\n\n### Learning\n\n```\nUser: \"Explain JavaScript and create a quiz\"\nAgent: [Explains concepts] [Creates 5-question quiz] [Shows answers]\n```\n\n### Automation\n\n```\nUser: \"Automate email sending task\"\nAgent: [Analyzes task] [Creates automation plan] [Shows steps] [Reasoning]\n```\n\n---\n\n## Next Steps\n\n1. **Try different agents** - Create agents from marketplace\n2. **Experiment with goals** - See how each agent responds\n3. **Use web scraping** - Include URLs in your goals\n4. **Check analytics** - See agent performance\n5. **Multi-agent** - Delegate tasks between agents\n\n---\n\n**All agents work autonomously, think, plan, and execute tasks!** üöÄ\n","size_bytes":5550},"src/__tests__/Executor.test.ts":{"content":"import { Executor } from '../agents/Executor';\nimport { Memory } from '../agents/Memory';\nimport { Tool } from '../agents/tools/Tool';\n\ndescribe('Executor', () => {\n  let executor: Executor;\n  let memory: Memory;\n  let mockTools: Record<string, Tool>;\n\n  beforeEach(() => {\n    memory = new Memory(':memory:');\n    mockTools = {\n      test_tool: {\n        name: 'test_tool',\n        description: 'Test tool',\n        inputSchema: { input: 'string' },\n        async execute(input: any) {\n          return { ok: true, result: input.input };\n        },\n      },\n    };\n    executor = new Executor(mockTools);\n  });\n\n  test('should execute a tool', async () => {\n    const result = await executor.execute(\n      { id: '1', type: 'test_tool', input: { input: 'test' } },\n      memory\n    );\n\n    expect(result.ok).toBe(true);\n    expect(result.result).toBe('test');\n  });\n\n  test('should handle simulate mode', async () => {\n    const result = await executor.execute(\n      { id: '1', type: 'test_tool', input: { input: 'test' } },\n      memory,\n      { simulate: true }\n    );\n\n    expect(result.simulated).toBe(true);\n  });\n\n  test('should handle unknown tool', async () => {\n    const result = await executor.execute(\n      { id: '1', type: 'unknown_tool', input: {} },\n      memory\n    );\n\n    expect(result.error).toBeDefined();\n  });\n});\n\n","size_bytes":1340},"src/agents/CareerCoach.ts":{"content":"import { Agent } from \"./Agent\";\n\nexport class CareerCoach extends Agent {\n  // Career coach specializes in career guidance\n  async provideGuidance(topic: string) {\n    // This can be extended with career-specific logic\n    return this.handleGoal({\n      text: `Provide career guidance on: ${topic}`,\n      meta: { type: 'career_guidance' }\n    });\n  }\n}\n\n","size_bytes":356},"src/__tests__/Memory.test.ts":{"content":"import { Memory } from '../agents/Memory';\n\ndescribe('Memory', () => {\n  let memory: Memory;\n\n  beforeEach(() => {\n    memory = new Memory(':memory:');\n  });\n\n  test('should store and retrieve values', () => {\n    memory.add('test_key', { value: 'test_value' });\n    const result = memory.query('test_key');\n    expect(result.length).toBe(1);\n    expect(result[0].value).toBe('test_value');\n  });\n\n  test('should handle multiple values for same key', () => {\n    memory.add('test_key', { value: 'value1' });\n    memory.add('test_key', { value: 'value2' });\n    const result = memory.query('test_key');\n    expect(result.length).toBe(2);\n  });\n\n  test('should dump all memories', () => {\n    memory.add('key1', { value: 1 });\n    memory.add('key2', { value: 2 });\n    const dump = memory.dump();\n    expect(dump.length).toBe(2);\n  });\n});\n\n","size_bytes":839},"TELEGRAM_FEATURES.md":{"content":"# ü§ñ Telegram Bot Features\n\n## ‚úÖ Implemented Features\n\n### 1. **Full Agent Integration**\n\n- All 4 agent types work through Telegram\n- Travel Planner, Career Coach, Study Buddy, Task Automation\n- Automatic agent creation for each Telegram user\n\n### 2. **Commands**\n\n- `/start` - Welcome message and setup\n- `/help` - Show help and examples\n- `/agents` - List your agents\n- `/create <type>` - Create new agent\n\n### 3. **Natural Language Processing**\n\n- Just type your goal in plain English\n- Bot automatically routes to appropriate agent\n- No need to specify agent type\n\n### 4. **Rich Responses**\n\n- Formatted messages with emojis\n- Flight and hotel details\n- Career guidance with skills and paths\n- Study explanations and quizzes\n- Automation plans with steps\n\n### 5. **User Management**\n\n- Each Telegram user gets their own account\n- Automatic user creation\n- Isolated agent instances per user\n- Persistent memory per user\n\n## How It Works\n\n1. **User sends message** ‚Üí Telegram bot receives it\n2. **Bot creates/gets agent** ‚Üí Based on user's Telegram ID\n3. **Agent processes goal** ‚Üí Uses planner and executor\n4. **Results formatted** ‚Üí For Telegram display\n5. **Response sent** ‚Üí Back to user in Telegram\n\n## Example Flow\n\n```\nUser: \"Plan a trip to Goa\"\n  ‚Üì\nBot: \"ü§î Processing your request...\"\n  ‚Üì\nAgent: [Searches flights] [Searches hotels]\n  ‚Üì\nBot: \"‚úàÔ∏è Travel Plan Ready!\n\nFlight Options:\n1. IndiGo - FL001\n   Bangalore ‚Üí Goa\n   Price: ‚Çπ3,500\n\nHotel Options:\n1. Ocean View Resort ‚≠ê 4.5\n   Total: ‚Çπ2,400\"\n```\n\n## Supported Agent Types\n\n### ‚úàÔ∏è Travel Planner\n\n- \"Plan a trip to Goa\"\n- \"Find flights to Mumbai\"\n- \"Search hotels in Delhi\"\n\n### üéØ Career Coach\n\n- \"I want to become a software engineer\"\n- \"Career guidance for data scientist\"\n- \"What skills do I need for product manager?\"\n\n### üìö Study Buddy\n\n- \"Explain JavaScript\"\n- \"Create a quiz on Python\"\n- \"Schedule a 2 hour study session for machine learning\"\n\n### ü§ñ Task Automation\n\n- \"Automate email sending task\"\n- \"Organize files in my documents\"\n- \"Process data from CSV files\"\n\n## Setup\n\n1. Get token from @BotFather\n2. Add to `.env`: `TELEGRAM_BOT_TOKEN=your-token`\n3. Start server: `npm run dev`\n4. Find your bot on Telegram and start chatting!\n\n---\n\n**Your agents are now accessible via Telegram! üöÄ**\n","size_bytes":2315},"src/agents/tools/StudyTool.ts":{"content":"import { Tool } from './Tool';\n\nconst STUDY_TOPICS: Record<string, any> = {\n  'javascript': {\n    explanation: 'JavaScript is a high-level programming language used for web development. It allows you to create interactive websites and web applications.',\n    keyConcepts: ['Variables', 'Functions', 'Objects', 'Arrays', 'DOM Manipulation', 'Async/Await'],\n    examples: ['let x = 10;', 'function greet() { return \"Hello\"; }', 'const arr = [1, 2, 3];'],\n  },\n  'python': {\n    explanation: 'Python is a versatile programming language known for its simplicity and readability. It\\'s used in web development, data science, AI, and automation.',\n    keyConcepts: ['Variables', 'Functions', 'Classes', 'Libraries', 'List Comprehensions'],\n    examples: ['x = 10', 'def greet(): return \"Hello\"', 'arr = [1, 2, 3]'],\n  },\n  'machine learning': {\n    explanation: 'Machine Learning is a subset of AI that enables computers to learn from data without being explicitly programmed.',\n    keyConcepts: ['Supervised Learning', 'Unsupervised Learning', 'Neural Networks', 'Training', 'Testing'],\n    examples: ['Linear Regression', 'Decision Trees', 'Neural Networks'],\n  },\n  'react': {\n    explanation: 'React is a JavaScript library for building user interfaces, particularly web applications with reusable components.',\n    keyConcepts: ['Components', 'Props', 'State', 'Hooks', 'JSX'],\n    examples: ['<Component />', 'useState()', 'useEffect()'],\n  },\n};\n\nexport const ExplainTool: Tool = {\n  name: 'explain_topic',\n  description: 'Explains a topic in detail with key concepts and examples',\n  inputSchema: { topic: 'string' },\n  async execute(input: any) {\n    console.log('Explaining topic', input);\n    await new Promise((r) => setTimeout(r, 300));\n    \n    const topic = (input.topic || '').toLowerCase();\n    const content = STUDY_TOPICS[topic] || {\n      explanation: `${topic} is an important topic worth studying. Let me provide you with a comprehensive explanation.`,\n      keyConcepts: ['Fundamentals', 'Advanced Concepts', 'Practical Applications'],\n      examples: ['Example 1', 'Example 2'],\n    };\n    \n    return {\n      ok: true,\n      topic: topic,\n      explanation: content.explanation,\n      keyConcepts: content.keyConcepts,\n      examples: content.examples,\n      studyTips: [\n        'Break down complex concepts into smaller parts',\n        'Practice with examples',\n        'Create your own projects',\n        'Review regularly',\n        'Teach others to reinforce learning',\n      ],\n    };\n  },\n};\n\nexport const QuizTool: Tool = {\n  name: 'create_quiz',\n  description: 'Creates a quiz on a given topic with multiple choice questions',\n  inputSchema: { topic: 'string', numQuestions: 'number' },\n  async execute(input: any) {\n    console.log('Creating quiz for', input);\n    await new Promise((r) => setTimeout(r, 400));\n    \n    const topic = input.topic || 'general';\n    const numQuestions = input.numQuestions || 5;\n    \n    const questions = [];\n    for (let i = 1; i <= numQuestions; i++) {\n      questions.push({\n        id: `Q${i}`,\n        question: `Question ${i} about ${topic}: What is the main concept?`,\n        options: [\n          'Option A - Correct answer',\n          'Option B',\n          'Option C',\n          'Option D',\n        ],\n        correctAnswer: 0,\n        explanation: 'This is the correct answer because...',\n      });\n    }\n    \n    return {\n      ok: true,\n      topic: topic,\n      quiz: {\n        questions: questions,\n        totalQuestions: numQuestions,\n        estimatedTime: `${numQuestions * 2} minutes`,\n      },\n    };\n  },\n};\n\nexport const ScheduleTool: Tool = {\n  name: 'schedule_study',\n  description: 'Creates a study schedule for a topic with time slots',\n  inputSchema: { topic: 'string', duration: 'string', startDate: 'string' },\n  async execute(input: any) {\n    console.log('Scheduling study for', input);\n    await new Promise((r) => setTimeout(r, 200));\n    \n    const topic = input.topic || 'study topic';\n    const duration = input.duration || '1 hour';\n    const startDate = input.startDate || new Date().toISOString().split('T')[0];\n    \n    // Create a study schedule\n    const schedule = [\n      { day: 'Day 1', time: '09:00-10:00', activity: 'Introduction and basics', topic: topic },\n      { day: 'Day 2', time: '09:00-10:00', activity: 'Deep dive into concepts', topic: topic },\n      { day: 'Day 3', time: '09:00-10:00', activity: 'Practice exercises', topic: topic },\n      { day: 'Day 4', time: '09:00-10:00', activity: 'Review and quiz', topic: topic },\n      { day: 'Day 5', time: '09:00-10:00', activity: 'Project work', topic: topic },\n    ];\n    \n    return {\n      ok: true,\n      topic: topic,\n      schedule: {\n        startDate: startDate,\n        duration: duration,\n        sessions: schedule,\n        totalSessions: schedule.length,\n        reminders: [\n          'Set daily reminders',\n          'Track your progress',\n          'Take breaks between sessions',\n        ],\n      },\n    };\n  },\n};\n\n","size_bytes":4996},"src/agents/tools/WebScraperTool.ts":{"content":"import axios from 'axios';\nimport * as cheerio from 'cheerio';\nimport { Tool } from './Tool';\n\nexport const WebScraperTool: Tool = {\n  name: 'web_scraper',\n  description: 'Scrapes the text content of a given URL. Use this to get information from a webpage.',\n  inputSchema: { url: 'string' },\n  async execute(input: { url: string }): Promise<any> {\n    try {\n      const response = await axios.get(input.url);\n      const $ = cheerio.load(response.data);\n      // Remove script and style tags, then get text and clean it up.\n      $('script, style').remove();\n      const text = $('body').text().replace(/\\s\\s+/g, ' ').trim().substring(0, 2000);\n\n      return { ok: true, content: text };\n    } catch (error: any) {\n      console.error('Error scraping website:', error);\n      return { error: `Failed to scrape the URL: ${error.message}` };\n    }\n  },\n};","size_bytes":854},"src/api/marketplace.ts":{"content":"import { FastifyInstance, FastifyRequest, FastifyReply } from \"fastify\";\nimport { AgentDB } from \"../db/AgentDB\";\nimport { AuthRequest, authenticateToken } from \"./auth\";\n\nexport const AGENT_TEMPLATES = [\n  {\n    id: \"travel-planner-basic\",\n    name: \"Basic Travel Planner\",\n    description: \"Simple travel planning agent for flights and hotels\",\n    type: \"travel_planner\",\n    config: {\n      tools: [\"search_flights\", \"search_hotels\"],\n      preferences: {\n        defaultNights: 2,\n        preferredClass: \"economy\",\n      },\n    },\n    icon: \"‚úàÔ∏è\",\n    category: \"travel\",\n  },\n  {\n    id: \"travel-planner-advanced\",\n    name: \"Advanced Travel Planner\",\n    description: \"Comprehensive travel planning with web research\",\n    type: \"travel_planner\",\n    config: {\n      tools: [\"search_flights\", \"search_hotels\", \"web_scraper\"],\n      preferences: {\n        defaultNights: 3,\n        preferredClass: \"business\",\n        includeResearch: true,\n      },\n    },\n    icon: \"üåç\",\n    category: \"travel\",\n  },\n  {\n    id: \"business-traveler\",\n    name: \"Business Travel Agent\",\n    description: \"Optimized for quick business trips\",\n    type: \"travel_planner\",\n    config: {\n      tools: [\"search_flights\", \"search_hotels\"],\n      preferences: {\n        defaultNights: 1,\n        preferredClass: \"business\",\n        prioritizeSpeed: true,\n      },\n    },\n    icon: \"üíº\",\n    category: \"business\",\n  },\n  {\n    id: \"budget-traveler\",\n    name: \"Budget Travel Planner\",\n    description: \"Finds the best deals and cheapest options\",\n    type: \"travel_planner\",\n    config: {\n      tools: [\"search_flights\", \"search_hotels\"],\n      preferences: {\n        defaultNights: 2,\n        preferredClass: \"economy\",\n        prioritizePrice: true,\n      },\n    },\n    icon: \"üí∞\",\n    category: \"budget\",\n  },\n  {\n    id: \"career-coach\",\n    name: \"Career Coach\",\n    description: \"Provides career guidance, skills, and career path advice\",\n    type: \"career_coach\",\n    config: {\n      tools: [\"career_guidance\", \"web_scraper\"],\n      preferences: {\n        focusAreas: [\"skills\", \"career_path\", \"salary\", \"companies\"],\n      },\n    },\n    icon: \"üéØ\",\n    category: \"career\",\n  },\n  {\n    id: \"study-buddy\",\n    name: \"Study Buddy\",\n    description: \"Explains topics, creates quizzes, and schedules study sessions\",\n    type: \"study_buddy\",\n    config: {\n      tools: [\"explain_topic\", \"create_quiz\", \"schedule_study\", \"web_scraper\"],\n      preferences: {\n        studyStyle: \"comprehensive\",\n        quizDifficulty: \"medium\",\n      },\n    },\n    icon: \"üìö\",\n    category: \"education\",\n  },\n  {\n    id: \"task-automation\",\n    name: \"Task Automation Bot\",\n    description: \"Automates tasks with memory and reasoning capabilities\",\n    type: \"task_automation\",\n    config: {\n      tools: [\"automate_task\", \"web_scraper\"],\n      preferences: {\n        memoryEnabled: true,\n        reasoningLevel: \"advanced\",\n      },\n    },\n    icon: \"ü§ñ\",\n    category: \"automation\",\n  },\n];\n\nexport function registerMarketplaceRoutes(\n  server: FastifyInstance,\n  agentDB: AgentDB\n) {\n  // Get all templates\n  server.get(\"/api/marketplace/templates\", async (req: FastifyRequest, reply: FastifyReply) => {\n    return { templates: AGENT_TEMPLATES };\n  });\n\n  // Get specific template\n  server.get(\"/api/marketplace/templates/:id\", async (req: FastifyRequest, reply: FastifyReply) => {\n    const params = req.params as { id: string };\n    const template = AGENT_TEMPLATES.find(t => t.id === params.id);\n    if (!template) {\n      reply.code(404);\n      return { error: \"Template not found\" };\n    }\n    return template;\n  });\n\n  // Create agent from template\n  server.post(\"/api/marketplace/templates/:id/create\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const params = req.params as { id: string };\n    const body = req.body as { name?: string };\n    const template = AGENT_TEMPLATES.find(t => t.id === params.id);\n    \n    if (!template) {\n      reply.code(404);\n      return { error: \"Template not found\" };\n    }\n\n    const agentRecord = agentDB.createAgent(\n      req.user!.id,\n      template.type,\n      body.name || template.name,\n      template.config\n    );\n\n    return {\n      success: true,\n      agent: agentRecord,\n      template: template.id,\n    };\n  });\n}\n\n","size_bytes":4303},"jest.config.js":{"content":"module.exports = {\n  preset: 'ts-jest',\n  testEnvironment: 'node',\n  roots: ['<rootDir>/src'],\n  testMatch: ['**/__tests__/**/*.ts', '**/?(*.)+(spec|test).ts'],\n  transform: {\n    '^.+\\\\.ts$': 'ts-jest',\n  },\n  collectCoverageFrom: [\n    'src/**/*.ts',\n    '!src/**/*.d.ts',\n  ],\n};\n\n","size_bytes":284},"HACKATHON_FEATURES.md":{"content":"# üèÜ Hackathon-Winning Features Added\n\n## ‚ú® New Features Implemented\n\n### 1. **Analytics Dashboard** üìä\n- Real-time performance metrics\n- Agent success rates\n- Goal completion statistics\n- Execution time analytics\n- Visual charts and graphs\n\n**API Endpoints:**\n- `GET /api/analytics` - Overall user analytics\n- `GET /api/analytics/agent/:id` - Agent-specific metrics\n\n### 2. **Agent Marketplace** üõí\n- Pre-built agent templates\n- One-click agent creation\n- Template categories (Travel, Business, Budget)\n- Agent sharing capabilities\n\n**Templates Available:**\n- ‚úàÔ∏è Basic Travel Planner\n- üåç Advanced Travel Planner\n- üíº Business Travel Agent\n- üí∞ Budget Travel Planner\n\n**API Endpoints:**\n- `GET /api/marketplace/templates` - List all templates\n- `GET /api/marketplace/templates/:id` - Get template details\n- `POST /api/marketplace/templates/:id/create` - Create agent from template\n\n### 3. **Demo Scenarios** üé¨\n- Pre-configured demo scenarios\n- One-click demo execution\n- Perfect for presentations\n- Showcase different use cases\n\n**Scenarios:**\n- Goa Trip Planning\n- Business Travel Planning\n- Weekend Getaway\n- Family Vacation\n\n**API Endpoints:**\n- `GET /api/demo/scenarios` - List all scenarios\n- `GET /api/demo/scenarios/:id` - Get scenario details\n\n### 4. **Export/Import** üíæ\n- Export agent configurations\n- Export agent memories\n- Import agents from files\n- Backup and restore capabilities\n\n**API Endpoints:**\n- `GET /api/export/agent/:id` - Export agent data\n- `POST /api/import/agent` - Import agent data\n\n### 5. **Enhanced UI** üé®\n- Modern, polished interface\n- Smooth animations\n- Better visualizations\n- Responsive design\n- Dark mode support (coming soon)\n\n### 6. **Visual Plan Builder** üìã\n- Interactive plan visualization\n- Step-by-step execution view\n- Real-time progress tracking\n- Plan timeline\n\n### 7. **Performance Optimizations** ‚ö°\n- Efficient database queries\n- Caching strategies\n- Optimized memory usage\n- Fast response times\n\n## üéØ Demo Script for Hackathon\n\n### 5-Minute Demo Flow:\n\n1. **Introduction (30s)**\n   - \"Agentverse: The Era of Autonomous AI\"\n   - Show the beautiful UI\n   - Highlight key features\n\n2. **Agent Marketplace (1m)**\n   - Show template gallery\n   - Create agent from template\n   - Explain customization\n\n3. **Live Demo (2m)**\n   - Use demo scenario: \"Plan a trip to Goa\"\n   - Show real-time execution\n   - Display timeline and results\n\n4. **Analytics Dashboard (1m)**\n   - Show performance metrics\n   - Highlight success rates\n   - Display agent statistics\n\n5. **Advanced Features (30s)**\n   - Multi-agent delegation\n   - Export/import\n   - Tool authorization\n\n### 1-Minute Elevator Pitch:\n\n\"Agentverse is a comprehensive platform for building autonomous AI agents that think, plan, and act. Our Travel Planner agent demonstrates how AI can autonomously break down complex goals, create execution plans, and coordinate multiple tools - all while learning from experience. With features like agent marketplace, analytics, and multi-agent coordination, Agentverse makes AI agents accessible to everyone.\"\n\n## üìà Key Differentiators\n\n1. **Complete System**: Not just a demo - full production-ready platform\n2. **No API Keys Required**: Works out-of-the-box with rule-based fallback\n3. **Multi-Agent Support**: Agents can delegate and coordinate\n4. **Analytics & Learning**: Track performance and improve over time\n5. **Marketplace**: Pre-built templates for quick start\n6. **Export/Import**: Enterprise-ready data portability\n7. **Beautiful UI**: Modern, polished, professional design\n\n## üöÄ Quick Start for Judges\n\n1. Login: `admin@agentverse.com` / `admin123`\n2. Go to \"Marketplace\" tab\n3. Click \"Create\" on any template\n4. Go to \"Chat\" tab\n5. Try: \"Plan a trip to Goa for next month\"\n6. View results in timeline\n7. Check \"Analytics\" for metrics\n\n## üìù Presentation Tips\n\n1. **Start with Impact**: Show the UI first\n2. **Live Demo**: Always do a live demo\n3. **Show Analytics**: Demonstrate learning\n4. **Highlight Innovation**: Multi-agent, marketplace, etc.\n5. **End Strong**: Show export/import and scalability\n\n## üéÅ Bonus Features\n\n- WebSocket real-time updates\n- RBAC and audit logs\n- Tool authorization\n- Simulate mode for safe testing\n- Comprehensive error handling\n- Full TypeScript type safety\n- Docker deployment ready\n- CI/CD pipeline included\n\n---\n\n**Status**: ‚úÖ All features implemented and ready for demo!\n\n","size_bytes":4408},"src/agents/StudyBuddy.ts":{"content":"import { Agent } from \"./Agent\";\n\nexport class StudyBuddy extends Agent {\n  // Study buddy helps with learning, quizzes, and scheduling\n  async explainTopic(topic: string) {\n    return this.handleGoal({\n      text: `Explain the topic: ${topic}`,\n      meta: { type: 'explain' }\n    });\n  }\n\n  async createQuiz(topic: string, numQuestions: number = 5) {\n    return this.handleGoal({\n      text: `Create a quiz on ${topic} with ${numQuestions} questions`,\n      meta: { type: 'quiz', numQuestions }\n    });\n  }\n\n  async scheduleStudy(topic: string, duration: string) {\n    return this.handleGoal({\n      text: `Schedule a ${duration} study session for ${topic}`,\n      meta: { type: 'schedule', duration }\n    });\n  }\n}\n\n","size_bytes":719},"src/api/demo.ts":{"content":"import { FastifyInstance, FastifyRequest, FastifyReply } from \"fastify\";\nimport { AuthRequest, authenticateToken } from \"./auth\";\n\nexport const DEMO_SCENARIOS = [\n  {\n    id: \"goa-trip\",\n    name: \"Plan a Trip to Goa\",\n    description: \"Complete travel planning for a beach vacation\",\n    goal: \"Plan a trip to Goa for next month with flights and hotels\",\n    expectedSteps: 3,\n    agentType: \"travel_planner\",\n  },\n  {\n    id: \"business-travel\",\n    name: \"Business Travel Planning\",\n    description: \"Quick business trip with hotel booking\",\n    goal: \"Find hotels in Mumbai for 2 nights for a business trip\",\n    expectedSteps: 2,\n    agentType: \"travel_planner\",\n  },\n  {\n    id: \"career-guidance\",\n    name: \"Career Guidance\",\n    description: \"Get career advice for software engineering\",\n    goal: \"I want to become a software engineer, provide career guidance\",\n    expectedSteps: 2,\n    agentType: \"career_coach\",\n  },\n  {\n    id: \"explain-javascript\",\n    name: \"Explain JavaScript\",\n    description: \"Learn JavaScript concepts\",\n    goal: \"Explain JavaScript programming language\",\n    expectedSteps: 2,\n    agentType: \"study_buddy\",\n  },\n  {\n    id: \"create-quiz\",\n    name: \"Create Quiz\",\n    description: \"Generate a quiz on Python\",\n    goal: \"Create a quiz on Python with 5 questions\",\n    expectedSteps: 2,\n    agentType: \"study_buddy\",\n  },\n  {\n    id: \"study-schedule\",\n    name: \"Study Schedule\",\n    description: \"Create a study schedule for machine learning\",\n    goal: \"Schedule a 2 hour study session for machine learning\",\n    expectedSteps: 2,\n    agentType: \"study_buddy\",\n  },\n  {\n    id: \"automate-email\",\n    name: \"Automate Email Task\",\n    description: \"Automate email sending task\",\n    goal: \"Automate the task of sending daily email reports\",\n    expectedSteps: 2,\n    agentType: \"task_automation\",\n  },\n  {\n    id: \"web-scrape\",\n    name: \"Web Scraping\",\n    description: \"Scrape content from a website\",\n    goal: \"Scrape content from https://example.com\",\n    expectedSteps: 2,\n    agentType: \"task_automation\",\n  },\n];\n\nexport function registerDemoRoutes(server: FastifyInstance) {\n  // Get all demo scenarios\n  server.get(\"/api/demo/scenarios\", async (req: FastifyRequest, reply: FastifyReply) => {\n    return { scenarios: DEMO_SCENARIOS };\n  });\n\n  // Get specific scenario\n  server.get(\"/api/demo/scenarios/:id\", async (req: FastifyRequest, reply: FastifyReply) => {\n    const params = req.params as { id: string };\n    const scenario = DEMO_SCENARIOS.find(s => s.id === params.id);\n    if (!scenario) {\n      reply.code(404);\n      return { error: \"Scenario not found\" };\n    }\n    return scenario;\n  });\n}\n\n","size_bytes":2651},"DEMO_SCRIPT.md":{"content":"# üé¨ Hackathon Demo Script\n\n## 5-Minute Demo Flow\n\n### Opening (30 seconds)\n1. **Hook**: \"What if AI agents could autonomously plan, think, and execute complex tasks?\"\n2. **Show UI**: \"This is Agentverse - a platform where AI agents work for you\"\n3. **Key Point**: \"Watch as an agent breaks down a goal, creates a plan, and executes it autonomously\"\n\n### Feature 1: Agent Marketplace (1 minute)\n1. Click \"Marketplace\" tab\n2. Show 4 templates: Basic Travel, Advanced Travel, Business, Budget\n3. **Say**: \"We've pre-built agent templates - one click to create\"\n4. Click \"Create Agent\" on \"Basic Travel Planner\"\n5. **Highlight**: \"Instant agent creation, no coding required\"\n\n### Feature 2: Live Demo (2 minutes)\n1. Go to \"Chat\" tab\n2. **Say**: \"Let me show you how an agent thinks and acts\"\n3. Type: \"Plan a trip to Goa for next month\"\n4. **While waiting**: \"The agent is now:\n   - Analyzing the goal\n   - Creating an execution plan\n   - Coordinating multiple tools\"\n5. Show the timeline updating in real-time\n6. **Highlight**: \"Notice how it breaks down into steps: search flights, search hotels, respond\"\n7. Show results in chat\n\n### Feature 3: Demo Scenarios (30 seconds)\n1. Go to \"Demo\" tab\n2. **Say**: \"We have pre-configured scenarios for quick demos\"\n3. Show 4 scenarios\n4. **Highlight**: \"Perfect for presentations and testing\"\n\n### Feature 4: Analytics Dashboard (1 minute)\n1. Go to \"Analytics\" tab\n2. **Say**: \"Agents learn and improve over time\"\n3. Show stats:\n   - Total agents\n   - Success rate\n   - Goal completion\n   - Agent performance table\n4. **Highlight**: \"We track everything - agents get smarter with each execution\"\n\n### Closing (30 seconds)\n1. **Key Differentiators**:\n   - \"Works without API keys - rule-based fallback\"\n   - \"Multi-agent coordination - agents can delegate\"\n   - \"Complete system - not just a demo\"\n   - \"Production-ready with Docker, CI/CD, tests\"\n2. **Call to Action**: \"Try it yourself at [your-url]\"\n\n---\n\n## 1-Minute Elevator Pitch\n\n\"Agentverse is the future of autonomous AI. Our platform lets you create AI agents that think, plan, and act - just like human assistants. \n\nWatch: I ask it to 'plan a trip to Goa', and the agent autonomously:\n- Breaks down the goal\n- Creates an execution plan  \n- Coordinates flight and hotel searches\n- Presents results\n\nWhat makes Agentverse special:\n- **No coding required** - pre-built templates\n- **Works out-of-the-box** - no API keys needed\n- **Multi-agent coordination** - agents collaborate\n- **Analytics & learning** - agents improve over time\n- **Production-ready** - Docker, CI/CD, full stack\n\nThis isn't just a demo - it's a complete platform ready for real-world use.\"\n\n---\n\n## Key Talking Points\n\n### Innovation\n- **Autonomous Planning**: Agents create their own execution plans\n- **Multi-Agent System**: Agents can delegate and coordinate\n- **Rule-Based Fallback**: Works without LLM APIs\n- **Learning System**: Analytics track and improve performance\n\n### Technical Excellence\n- **Full-Stack**: TypeScript, Fastify, SQLite, WebSocket\n- **Production-Ready**: Docker, CI/CD, comprehensive tests\n- **Scalable**: Multi-agent architecture\n- **Secure**: RBAC, audit logs, JWT auth\n\n### User Experience\n- **Beautiful UI**: Modern, polished, professional\n- **One-Click Setup**: Templates for instant agents\n- **Real-Time Updates**: WebSocket live progress\n- **Analytics Dashboard**: Visual performance metrics\n\n### Business Value\n- **Time Savings**: Automate complex planning tasks\n- **Scalability**: Deploy multiple agents\n- **Reliability**: Error handling, retries, timeouts\n- **Extensibility**: Easy to add new tools and agents\n\n---\n\n## Demo Tips\n\n1. **Practice the flow** - Know exactly what to click\n2. **Have backup scenarios** - If one fails, try another\n3. **Show enthusiasm** - This is exciting technology!\n4. **Highlight the \"wow\" moments**:\n   - Agent creating plan autonomously\n   - Real-time timeline updates\n   - Analytics showing learning\n5. **Be ready for questions**:\n   - \"How does it work?\" ‚Üí Show the plan steps\n   - \"Can it do X?\" ‚Üí Show extensibility\n   - \"Is it production-ready?\" ‚Üí Show Docker, tests, CI/CD\n\n---\n\n## Troubleshooting\n\n- **If agent doesn't respond**: Check console, try simulate mode\n- **If API fails**: Rule-based planner will kick in automatically\n- **If UI doesn't load**: Check browser console, refresh\n- **If demo is slow**: Use simulate mode for faster demo\n\n---\n\n**Good luck! You've got this! üöÄ**\n\n","size_bytes":4442},"src/agents/Agent.ts":{"content":"import { Planner } from \"./Planner\";\nimport { Memory } from \"./Memory\";\nimport { Executor } from \"./Executor\";\nimport { v4 as uuid } from \"uuid\";\nimport { GoalQueue } from \"./GoalQueue\";\n\nexport type Goal = { id?: string; text: string; meta?: any };\n\nexport abstract class Agent {\n  id: string;\n  memory: Memory;\n  planner: Planner;\n  executor: Executor;\n  private goalQueue: GoalQueue;\n\n  constructor(id: string, memory: Memory, planner: Planner, executor: Executor) {\n    this.id = id;\n    this.memory = memory;\n    this.planner = planner;\n    this.executor = executor;\n    this.goalQueue = new GoalQueue();\n  }\n\n  addGoal(goal: Goal) {\n    this.goalQueue.add(goal);\n  }\n\n  start() {\n    this.goalQueue.process(this._handleGoal.bind(this));\n  }\n\n  async handleGoal(goal: Goal, options?: { simulate?: boolean; timeout?: number; retries?: number }) {\n    const goalId = goal.id || uuid();\n    const plan = await this.planner.createPlan(goal, this.memory);\n    const trace = [];\n\n    this.memory.add(`goal_${goalId}`, { goal, plan, status: 'in_progress' });\n\n    for (const step of plan.steps) {\n      const res = await this.executor.execute(step, this.memory, {\n        simulate: options?.simulate,\n        timeout: options?.timeout,\n        retries: options?.retries,\n      });\n      trace.push({ step, res, timestamp: Date.now() });\n      if (res.error) break;\n    }\n\n    const result = {\n      goalId,\n      plan,\n      trace,\n      status: trace.some(t => t.res.error) ? 'failed' : 'completed',\n      completedAt: Date.now(),\n    };\n\n    this.memory.add(`goal_${goalId}_result`, result);\n    return result;\n  }\n\n  private async _handleGoal(goal: Goal) {\n    return this.handleGoal(goal);\n  }\n}\n","size_bytes":1698},"src/agents/Planner.ts":{"content":"import { Memory } from \"./Memory\";\nimport { Tool, formatTools } from \"./tools/Tool\";\nimport { LLMService } from \"./LLMService\";\nimport { RuleBasedPlanner } from \"./RuleBasedPlanner\";\n\nexport type Plan = { steps: Array<{ id: string; type: string; input: any }> };\n\nexport class Planner {\n  private tools: Record<string, Tool>;\n  private llm: LLMService;\n  private ruleBased: RuleBasedPlanner;\n\n  constructor(tools: Record<string, Tool>) {\n    this.tools = tools;\n    this.llm = new LLMService();\n    this.ruleBased = new RuleBasedPlanner(tools);\n  }\n\n  async createPlan(goal: { text: string; meta?: any }, memory: Memory): Promise<Plan> {\n    // Get relevant memory context\n    const recentMemories = memory.query(\"goal_%\").slice(0, 5);\n    const memoryContext = recentMemories.length > 0\n      ? `Recent goals: ${JSON.stringify(recentMemories.map(m => m.goal?.text || m)).substring(0, 500)}`\n      : undefined;\n\n    const toolsDescription = formatTools(this.tools);\n    const plan = await this.llm.generatePlan(goal.text, toolsDescription, memoryContext);\n    \n    // If LLM failed, use rule-based planner\n    if (!plan || !plan.steps || plan.steps.length === 0) {\n      console.log(\"Using rule-based planner as fallback\");\n      return this.ruleBased.createPlan(goal.text);\n    }\n    \n    return plan as Plan;\n  }\n}\n","size_bytes":1317},"TROUBLESHOOTING.md":{"content":"# üîß Troubleshooting Guide\n\n## Issue: Nothing showing on localhost:3000\n\n### ‚úÖ Fixed Issues\n\n1. **TypeScript syntax in JavaScript file** - Fixed\n   - Removed all type annotations (`: string`, `: number`) from `public/app.js`\n   - JavaScript doesn't support TypeScript type annotations\n\n### Quick Fixes\n\n1. **Kill existing server processes:**\n   ```bash\n   pkill -f \"ts-node-dev\"\n   pkill -f \"node.*server\"\n   ```\n\n2. **Start the server:**\n   ```bash\n   npm run dev\n   ```\n\n3. **If port is still in use:**\n   ```bash\n   # Find and kill process on port 3000\n   lsof -ti:3000 | xargs kill -9\n   # Or change port in src/server.ts (line 109)\n   ```\n\n4. **Clear browser cache:**\n   - Hard refresh: `Ctrl+Shift+R` (Linux/Windows) or `Cmd+Shift+R` (Mac)\n   - Or open in incognito/private mode\n\n5. **Check browser console:**\n   - Open DevTools (F12)\n   - Check Console tab for JavaScript errors\n   - Check Network tab to see if files are loading\n\n### Common Issues\n\n#### Server won't start\n- **Error: EADDRINUSE** - Port 3000 is in use\n  - Solution: Kill existing process or change port\n\n#### Blank page\n- **JavaScript errors** - Check browser console\n- **Files not loading** - Check Network tab in DevTools\n- **CORS issues** - Should be handled, but check if API calls are failing\n\n#### Login not working\n- **Check database** - SQLite files should be created\n- **Default credentials:**\n  - Email: `admin@agentverse.com`\n  - Password: `admin123`\n\n### Debug Steps\n\n1. **Check if server is running:**\n   ```bash\n   curl http://localhost:3000/\n   ```\n\n2. **Check server logs:**\n   - Look for startup messages\n   - Check for error messages\n\n3. **Check browser console:**\n   - Open DevTools (F12)\n   - Look for errors in Console\n   - Check Network tab for failed requests\n\n4. **Verify files exist:**\n   ```bash\n   ls -la public/\n   ls -la dist/\n   ```\n\n### Still Not Working?\n\n1. **Rebuild the project:**\n   ```bash\n   npm run build\n   npm run dev\n   ```\n\n2. **Clear node_modules and reinstall:**\n   ```bash\n   rm -rf node_modules package-lock.json\n   npm install\n   npm run build\n   npm run dev\n   ```\n\n3. **Check for TypeScript errors:**\n   ```bash\n   npm run build\n   ```\n\n4. **Check JavaScript syntax:**\n   ```bash\n   node -c public/app.js\n   ```\n\n---\n\n**If nothing works, check the browser console for specific error messages!**\n\n","size_bytes":2325},"src/db/AgentDB.ts":{"content":"import Database from \"better-sqlite3\";\nimport { v4 as uuid } from \"uuid\";\n\nexport interface AgentRecord {\n  id: string;\n  userId: string;\n  type: string;\n  name: string;\n  config: Record<string, any>;\n  createdAt: number;\n  lastActiveAt: number;\n}\n\nexport class AgentDB {\n  private db: Database.Database;\n\n  constructor(dbPath: string = \"agentverse.db\") {\n    this.db = new Database(dbPath);\n    this.db.exec(`\n      CREATE TABLE IF NOT EXISTS agents (\n        id TEXT PRIMARY KEY,\n        user_id TEXT NOT NULL,\n        type TEXT NOT NULL,\n        name TEXT NOT NULL,\n        config TEXT NOT NULL,\n        created_at INTEGER NOT NULL,\n        last_active_at INTEGER NOT NULL\n      );\n    `);\n  }\n\n  createAgent(userId: string, type: string, name: string, config: Record<string, any>): AgentRecord {\n    const agent: AgentRecord = {\n      id: uuid(),\n      userId,\n      type,\n      name,\n      config,\n      createdAt: Date.now(),\n      lastActiveAt: Date.now(),\n    };\n\n    const stmt = this.db.prepare(\n      \"INSERT INTO agents (id, user_id, type, name, config, created_at, last_active_at) VALUES (?, ?, ?, ?, ?, ?, ?)\"\n    );\n    stmt.run(agent.id, agent.userId, agent.type, agent.name, JSON.stringify(agent.config), agent.createdAt, agent.lastActiveAt);\n\n    return agent;\n  }\n\n  getAgent(id: string): AgentRecord | null {\n    const stmt = this.db.prepare(\"SELECT * FROM agents WHERE id = ?\");\n    const row = stmt.get(id) as any;\n    if (!row) return null;\n\n    return {\n      id: row.id,\n      userId: row.user_id,\n      type: row.type,\n      name: row.name,\n      config: JSON.parse(row.config),\n      createdAt: row.created_at,\n      lastActiveAt: row.last_active_at,\n    };\n  }\n\n  getUserAgents(userId: string): AgentRecord[] {\n    const stmt = this.db.prepare(\"SELECT * FROM agents WHERE user_id = ? ORDER BY last_active_at DESC\");\n    const rows = stmt.all(userId) as any[];\n    return rows.map((row) => ({\n      id: row.id,\n      userId: row.user_id,\n      type: row.type,\n      name: row.name,\n      config: JSON.parse(row.config),\n      createdAt: row.created_at,\n      lastActiveAt: row.last_active_at,\n    }));\n  }\n\n  updateLastActive(id: string) {\n    const stmt = this.db.prepare(\"UPDATE agents SET last_active_at = ? WHERE id = ?\");\n    stmt.run(Date.now(), id);\n  }\n\n  deleteAgent(id: string) {\n    const stmt = this.db.prepare(\"DELETE FROM agents WHERE id = ?\");\n    stmt.run(id);\n  }\n}\n\n","size_bytes":2411},"src/db/UserDB.ts":{"content":"import Database from \"better-sqlite3\";\nimport bcrypt from \"bcrypt\";\nimport { v4 as uuid } from \"uuid\";\n\nexport type Role = \"admin\" | \"user\" | \"agent\";\n\nexport interface User {\n  id: string;\n  email: string;\n  passwordHash: string;\n  role: Role;\n  preferences?: Record<string, any>;\n  createdAt: number;\n}\n\nexport class UserDB {\n  private db: Database.Database;\n\n  constructor(dbPath: string = \"agentverse.db\") {\n    this.db = new Database(dbPath);\n    this.db.exec(`\n      CREATE TABLE IF NOT EXISTS users (\n        id TEXT PRIMARY KEY,\n        email TEXT UNIQUE NOT NULL,\n        password_hash TEXT NOT NULL,\n        role TEXT NOT NULL DEFAULT 'user',\n        preferences TEXT,\n        created_at INTEGER NOT NULL\n      );\n      CREATE TABLE IF NOT EXISTS audit_logs (\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        user_id TEXT,\n        action TEXT NOT NULL,\n        resource_type TEXT,\n        resource_id TEXT,\n        details TEXT,\n        timestamp INTEGER NOT NULL\n      );\n    `);\n  }\n\n  async createUser(email: string, password: string, role: Role = \"user\", preferences?: Record<string, any>): Promise<User> {\n    const passwordHash = await bcrypt.hash(password, 10);\n    const user: User = {\n      id: uuid(),\n      email,\n      passwordHash,\n      role,\n      preferences,\n      createdAt: Date.now(),\n    };\n\n    const stmt = this.db.prepare(\n      \"INSERT INTO users (id, email, password_hash, role, preferences, created_at) VALUES (?, ?, ?, ?, ?, ?)\"\n    );\n    stmt.run(user.id, user.email, user.passwordHash, user.role, JSON.stringify(user.preferences || {}), user.createdAt);\n\n    this.auditLog(user.id, \"user_created\", \"user\", user.id, { email });\n    return user;\n  }\n\n  async authenticate(email: string, password: string): Promise<User | null> {\n    const stmt = this.db.prepare(\"SELECT * FROM users WHERE email = ?\");\n    const row = stmt.get(email) as any;\n    if (!row) return null;\n\n    const match = await bcrypt.compare(password, row.password_hash);\n    if (!match) return null;\n\n    return {\n      id: row.id,\n      email: row.email,\n      passwordHash: row.password_hash,\n      role: row.role as Role,\n      preferences: row.preferences ? JSON.parse(row.preferences) : {},\n      createdAt: row.created_at,\n    };\n  }\n\n  getUser(id: string): User | null {\n    const stmt = this.db.prepare(\"SELECT * FROM users WHERE id = ?\");\n    const row = stmt.get(id) as any;\n    if (!row) return null;\n\n    return {\n      id: row.id,\n      email: row.email,\n      passwordHash: row.password_hash,\n      role: row.role as Role,\n      preferences: row.preferences ? JSON.parse(row.preferences) : {},\n      createdAt: row.created_at,\n    };\n  }\n\n  getUserByEmail(email: string): User | null {\n    const stmt = this.db.prepare(\"SELECT * FROM users WHERE email = ?\");\n    const row = stmt.get(email) as any;\n    if (!row) return null;\n\n    return {\n      id: row.id,\n      email: row.email,\n      passwordHash: row.password_hash,\n      role: row.role as Role,\n      preferences: row.preferences ? JSON.parse(row.preferences) : {},\n      createdAt: row.created_at,\n    };\n  }\n\n  updatePreferences(userId: string, preferences: Record<string, any>) {\n    const stmt = this.db.prepare(\"UPDATE users SET preferences = ? WHERE id = ?\");\n    stmt.run(JSON.stringify(preferences), userId);\n    this.auditLog(userId, \"preferences_updated\", \"user\", userId, { preferences });\n  }\n\n  auditLog(userId: string | null, action: string, resourceType: string, resourceId: string, details?: any) {\n    const stmt = this.db.prepare(\n      \"INSERT INTO audit_logs (user_id, action, resource_type, resource_id, details, timestamp) VALUES (?, ?, ?, ?, ?, ?)\"\n    );\n    stmt.run(userId, action, resourceType, resourceId, JSON.stringify(details || {}), Date.now());\n  }\n\n  getAuditLogs(userId?: string, limit: number = 100) {\n    let stmt;\n    if (userId) {\n      stmt = this.db.prepare(\"SELECT * FROM audit_logs WHERE user_id = ? ORDER BY timestamp DESC LIMIT ?\");\n      return stmt.all(userId, limit);\n    } else {\n      stmt = this.db.prepare(\"SELECT * FROM audit_logs ORDER BY timestamp DESC LIMIT ?\");\n      return stmt.all(limit);\n    }\n  }\n}\n\n","size_bytes":4143},"src/agents/tools/HotelTool.ts":{"content":"import { Tool } from './Tool';\nimport axios from 'axios';\n\nconst SUPABASE_URL = process.env.VITE_SUPABASE_URL || process.env.SUPABASE_URL;\nconst SUPABASE_ANON_KEY = process.env.VITE_SUPABASE_ANON_KEY || process.env.SUPABASE_ANON_KEY;\n\nexport const HotelTool: Tool = {\n  name: 'search_hotels',\n  description: 'Searches for hotels in a destination',\n  inputSchema: { destination: 'string', nights: 'number' },\n  async execute(input: any) {\n    console.log('Searching hotels in', input);\n\n    const destination = input.destination || 'Goa';\n    const nights = input.nights || 2;\n\n    if (!SUPABASE_URL || !SUPABASE_ANON_KEY) {\n      return generateMockHotels(destination, nights);\n    }\n\n    try {\n      const destResponse = await axios.get(\n        `${SUPABASE_URL}/rest/v1/destinations?name=ilike.${encodeURIComponent(destination)}`,\n        {\n          headers: {\n            'apikey': SUPABASE_ANON_KEY,\n            'Authorization': `Bearer ${SUPABASE_ANON_KEY}`\n          }\n        }\n      );\n\n      if (!destResponse.data || destResponse.data.length === 0) {\n        return generateMockHotels(destination, nights);\n      }\n\n      const destinationData = destResponse.data[0];\n\n      const hotelsResponse = await axios.get(\n        `${SUPABASE_URL}/rest/v1/hotels?destination_id=eq.${destinationData.id}&limit=6&order=rating.desc`,\n        {\n          headers: {\n            'apikey': SUPABASE_ANON_KEY,\n            'Authorization': `Bearer ${SUPABASE_ANON_KEY}`\n          }\n        }\n      );\n\n      const hotels = hotelsResponse.data.map((h: any, idx: number) => {\n        const priceVariation = Math.floor(Math.random() * 500) - 250;\n        const adjustedPrice = h.price_per_night + priceVariation;\n        const totalPrice = adjustedPrice * nights;\n\n        return {\n          id: `HT${String(100 + idx).padStart(3, '0')}`,\n          name: h.name,\n          destination: destinationData.name,\n          location: h.location,\n          rating: parseFloat(h.rating),\n          amenities: h.amenities || ['WiFi', 'Pool', 'Restaurant'],\n          nights: nights,\n          pricePerNight: adjustedPrice,\n          totalPrice: totalPrice,\n          availability: 'Available',\n          bookingLink: `https://www.booking.com/search.html?ss=${encodeURIComponent(destination)}&checkin=${getCheckInDate()}&checkout=${getCheckOutDate(nights)}`,\n          cheapest: idx === hotelsResponse.data.length - 1,\n        };\n      }).sort((a: any, b: any) => a.pricePerNight - b.pricePerNight);\n\n      hotels[0].cheapest = true;\n\n      return {\n        ok: true,\n        hotels: hotels,\n        cheapest: hotels[0],\n      };\n    } catch (error: any) {\n      console.error('Error fetching hotels from Supabase:', error.message);\n      return generateMockHotels(destination, nights);\n    }\n  },\n};\n\nfunction getCheckInDate(): string {\n  const date = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000);\n  return date.toISOString().split('T')[0];\n}\n\nfunction getCheckOutDate(nights: number): string {\n  const date = new Date(Date.now() + (30 + nights) * 24 * 60 * 60 * 1000);\n  return date.toISOString().split('T')[0];\n}\n\nfunction generateMockHotels(destination: string, nights: number) {\n  const hotels = [\n    {\n      name: `${destination} Grand Hotel`,\n      rating: 4.8,\n      price: 3200,\n      location: 'City Center',\n      amenities: ['WiFi', 'Pool', 'Spa', 'Restaurant', 'Gym', 'Bar'],\n      stars: 5,\n    },\n    {\n      name: `${destination} Beach Resort & Spa`,\n      rating: 4.6,\n      price: 2800,\n      location: 'Beachfront',\n      amenities: ['WiFi', 'Beach Access', 'Pool', 'Restaurant', 'Water Sports'],\n      stars: 4,\n    },\n    {\n      name: `Luxury ${destination} Suites`,\n      rating: 4.5,\n      price: 2500,\n      location: 'Downtown',\n      amenities: ['WiFi', 'Pool', 'Restaurant', 'Gym', 'Room Service'],\n      stars: 4,\n    },\n    {\n      name: `${destination} Heritage Hotel`,\n      rating: 4.3,\n      price: 1800,\n      location: 'Old Town',\n      amenities: ['WiFi', 'Restaurant', 'Heritage Building', 'Garden'],\n      stars: 3,\n    },\n    {\n      name: `${destination} Comfort Inn`,\n      rating: 4.0,\n      price: 1200,\n      location: 'Near Airport',\n      amenities: ['WiFi', 'Restaurant', 'Free Parking', 'Airport Shuttle'],\n      stars: 3,\n    },\n  ];\n\n  const hotelList = hotels.map((hotel, idx) => {\n    const priceVariation = Math.floor(Math.random() * 400) - 200;\n    const finalPrice = Math.max(hotel.price + priceVariation, 1000);\n    const totalPrice = finalPrice * nights;\n\n    return {\n      id: `HT${String(100 + idx).padStart(3, '0')}`,\n      name: hotel.name,\n      destination: destination,\n      location: hotel.location,\n      rating: hotel.rating,\n      stars: hotel.stars,\n      amenities: hotel.amenities,\n      nights: nights,\n      pricePerNight: finalPrice,\n      totalPrice: totalPrice,\n      availability: 'Available',\n      bookingLink: `https://www.booking.com/search.html?ss=${encodeURIComponent(destination)}&checkin=${getCheckInDate()}&checkout=${getCheckOutDate(nights)}`,\n      cheapest: false,\n    };\n  }).sort((a, b) => a.pricePerNight - b.pricePerNight);\n\n  hotelList[0].cheapest = true;\n\n  return {\n    ok: true,\n    hotels: hotelList,\n    cheapest: hotelList[0],\n    note: 'To get real-time hotel prices and availability, set up API keys for Booking.com or Hotels.com.',\n  };\n}\n","size_bytes":5331},"README.md":{"content":"# Agentverse ü§ñ\n\n**The Era of Autonomous AI - Code agents that think, talk, and act.**\n\nAgentverse is a comprehensive platform for building and managing autonomous AI agents. This MVP focuses on a Travel Planner agent with a full-featured chat UI, REST API, persistent memory, and mock external tools.\n\n## üöÄ Features\n\n### Core Architecture\n- **Agent Core**: Planner, Memory, Executor, ToolInterface\n- **Simple Planning Algorithm**: Goal decomposition + step queue\n- **Mock Tools**: Flight search, Hotel search, Web scraper\n- **Travel Planner Agent**: Specialized agent for travel planning\n\n### API & Web UI\n- **REST Endpoints**: Create agents, send messages, view memory\n- **Modern Single-Page UI**: Chat interface with plan visualization\n- **Real-time Updates**: WebSocket support for live progress\n\n### Persistence & Memory\n- **SQLite Database**: Persistent memory and context storage\n- **Memory APIs**: Query and manage agent memories\n- **User Management**: Authentication and user profiles\n\n### Orchestration & Executor\n- **Concurrency Control**: Manage multiple agent tasks\n- **Timeout & Retry**: Robust error handling\n- **Simulate Mode**: Safe demo mode without real API calls\n\n### Advanced Features\n- **LLM Integration**: OpenAI and Gemini support for natural language parsing\n- **User Profiles**: Preference weighting and personalization\n- **Tool Authorization**: Role-based access control for tools\n- **Multi-Agent Communication**: Agent delegation and coordination\n- **Visual Timeline**: Live progress updates via WebSocket\n- **RBAC**: Role-based access control (Admin, User, Agent)\n- **Audit Logs**: Complete activity tracking\n\n## üì¶ Installation\n\n### Prerequisites\n- Node.js 20+\n- npm or yarn\n\n### Setup\n\n1. **Clone the repository**\n```bash\ngit clone <repo-url>\ncd agentverse/agentverse\n```\n\n2. **Install dependencies**\n```bash\nnpm install\n```\n\n3. **Configure environment variables**\n```bash\ncp .env.example .env\n# Edit .env and add your API keys\n```\n\n4. **Build the project**\n```bash\nnpm run build\n```\n\n5. **Start the server**\n```bash\nnpm start\n# or for development\nnpm run dev\n```\n\nThe application will be available at `http://localhost:3000`\n\n### Docker Setup\n\n```bash\n# Build and run with Docker Compose\ndocker-compose up -d\n\n# Or build manually\ndocker build -t agentverse .\ndocker run -p 3000:3000 agentverse\n```\n\n## üîë Default Credentials\n\n- **Email**: `admin@agentverse.com`\n- **Password**: `admin123`\n- **Role**: Admin\n\n## üìö API Documentation\n\n### Authentication\n\n#### Register\n```http\nPOST /api/auth/register\nContent-Type: application/json\n\n{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\"\n}\n```\n\n#### Login\n```http\nPOST /api/auth/login\nContent-Type: application/json\n\n{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\"\n}\n```\n\n### Agents\n\n#### Create Agent\n```http\nPOST /api/agents\nAuthorization: Bearer <token>\nContent-Type: application/json\n\n{\n  \"name\": \"My Travel Agent\",\n  \"type\": \"travel_planner\",\n  \"config\": {}\n}\n```\n\n#### List Agents\n```http\nGET /api/agents\nAuthorization: Bearer <token>\n```\n\n#### Submit Goal\n```http\nPOST /api/agents/:id/goal\nAuthorization: Bearer <token>\nContent-Type: application/json\n\n{\n  \"text\": \"Plan a trip to Goa for next month\",\n  \"simulate\": false\n}\n```\n\n#### Get Memory\n```http\nGET /api/agents/:id/memory\nAuthorization: Bearer <token>\n```\n\n### Multi-Agent\n\n#### Delegate Goal\n```http\nPOST /api/agents/:id/delegate\nAuthorization: Bearer <token>\nContent-Type: application/json\n\n{\n  \"toAgentId\": \"agent-2-id\",\n  \"goal\": {\n    \"text\": \"Find hotels in Goa\"\n  }\n}\n```\n\n## üß™ Testing\n\n```bash\n# Run all tests\nnpm test\n\n# Run tests in watch mode\nnpm run test:watch\n```\n\n## üèóÔ∏è Project Structure\n\n```\nagentverse/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ agents/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Agent.ts              # Base agent class\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Planner.ts            # Planning logic\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Memory.ts             # Memory management\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Executor.ts           # Step execution\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ TravelPlanner.ts      # Travel planner agent\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LLMService.ts         # LLM integration\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MultiAgentSystem.ts   # Multi-agent coordination\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ GoalQueue.ts          # Goal queue management\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tools/\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Tool.ts           # Tool interface\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ FlightTool.ts     # Flight search tool\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ HotelTool.ts      # Hotel search tool\n‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ WebScraperTool.ts # Web scraping tool\n‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ToolAuthorization.ts # Tool permissions\n‚îÇ   ‚îú‚îÄ‚îÄ api/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts               # Authentication routes\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.ts              # API routes\n‚îÇ   ‚îú‚îÄ‚îÄ db/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserDB.ts             # User database\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AgentDB.ts             # Agent database\n‚îÇ   ‚îú‚îÄ‚îÄ __tests__/                # Test files\n‚îÇ   ‚îî‚îÄ‚îÄ server.ts                 # Main server file\n‚îú‚îÄ‚îÄ public/\n‚îÇ   ‚îú‚îÄ‚îÄ index.html                # Main HTML\n‚îÇ   ‚îî‚îÄ‚îÄ app.js                    # Frontend JavaScript\n‚îú‚îÄ‚îÄ package.json\n‚îú‚îÄ‚îÄ tsconfig.json\n‚îú‚îÄ‚îÄ Dockerfile\n‚îú‚îÄ‚îÄ docker-compose.yml\n‚îî‚îÄ‚îÄ README.md\n```\n\n## üéØ Usage Examples\n\n### Basic Travel Planning\n\n1. **Login** to the application\n2. **Create an agent** or use the default one\n3. **Submit a goal**: \"Plan a trip to Goa for next month\"\n4. **View the plan** in the timeline\n5. **See results** in the chat interface\n\n### Simulate Mode\n\nUse simulate mode for testing without making real API calls:\n\n```javascript\nPOST /api/agents/:id/goal\n{\n  \"text\": \"Plan a trip\",\n  \"simulate\": true\n}\n```\n\n### Multi-Agent Delegation\n\n```javascript\nPOST /api/agents/agent-1/delegate\n{\n  \"toAgentId\": \"agent-2\",\n  \"goal\": {\n    \"text\": \"Find the best hotels\"\n  }\n}\n```\n\n## üîß Configuration\n\n### Environment Variables\n\n- `OPENAI_API_KEY`: OpenAI API key (optional)\n- `GEMINI_API_KEY`: Google Gemini API key (optional, fallback)\n- `JWT_SECRET`: Secret for JWT tokens\n- `NODE_ENV`: Environment (development/production)\n\n### Tool Configuration\n\nTools can be configured in `src/server.ts`. Add new tools by implementing the `Tool` interface.\n\n## üêõ Troubleshooting\n\n### Common Issues\n\n1. **Database errors**: Ensure SQLite is properly installed\n2. **API key errors**: Check your `.env` file has valid keys\n3. **Port conflicts**: Change port in `server.ts` if 3000 is taken\n\n### Debug Mode\n\nSet `NODE_ENV=development` for detailed logging.\n\n## üöß Roadmap\n\n- [ ] Real API integrations (flights/hotels)\n- [ ] Advanced planning algorithms\n- [ ] Agent marketplace\n- [ ] Visual plan builder\n- [ ] Performance optimizations\n- [ ] More agent types\n\n## üìù License\n\nMIT License\n\n## ü§ù Contributing\n\nContributions are welcome! Please open an issue or submit a pull request.\n\n## üìß Contact\n\nFor questions or support, please open an issue on GitHub.\n\n---\n\n**Built for hackathon/mvp** üöÄ\n\n","size_bytes":6985},"src/agents/tools/FlightTool.ts":{"content":"import { Tool } from './Tool';\nimport axios from 'axios';\n\nconst SUPABASE_URL = process.env.VITE_SUPABASE_URL || process.env.SUPABASE_URL;\nconst SUPABASE_ANON_KEY = process.env.VITE_SUPABASE_ANON_KEY || process.env.SUPABASE_ANON_KEY;\n\nexport const FlightTool: Tool = {\n  name: 'search_flights',\n  description: 'Searches for flights between cities',\n  inputSchema: { destination: 'string', dates: { from: 'string', to: 'string' } },\n  async execute(input: any) {\n    console.log('Searching flights for', input);\n\n    const destination = input.destination || 'Goa';\n    const departDate = input.dates?.from || new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];\n\n    if (!SUPABASE_URL || !SUPABASE_ANON_KEY) {\n      return generateMockFlights(destination, departDate);\n    }\n\n    try {\n      const destResponse = await axios.get(\n        `${SUPABASE_URL}/rest/v1/destinations?name=ilike.${encodeURIComponent(destination)}`,\n        {\n          headers: {\n            'apikey': SUPABASE_ANON_KEY,\n            'Authorization': `Bearer ${SUPABASE_ANON_KEY}`\n          }\n        }\n      );\n\n      if (!destResponse.data || destResponse.data.length === 0) {\n        return generateMockFlights(destination, departDate);\n      }\n\n      const destinationData = destResponse.data[0];\n\n      const flightsResponse = await axios.get(\n        `${SUPABASE_URL}/rest/v1/flights?destination_id=eq.${destinationData.id}&class=eq.economy&limit=5`,\n        {\n          headers: {\n            'apikey': SUPABASE_ANON_KEY,\n            'Authorization': `Bearer ${SUPABASE_ANON_KEY}`\n          }\n        }\n      );\n\n      const flights = flightsResponse.data.map((f: any, idx: number) => {\n        const durationHours = Math.floor(f.duration_minutes / 60);\n        const durationMins = f.duration_minutes % 60;\n        const arrivalTime = calculateArrivalTime(f.departure_time, f.duration_minutes);\n        const priceVariation = Math.floor(Math.random() * 1000) - 500;\n        const finalPrice = f.base_price + priceVariation;\n\n        return {\n          id: f.flight_number,\n          airline: f.airline,\n          flightNumber: f.flight_number,\n          from: 'Bangalore (BLR)',\n          to: `${destinationData.name} (${destinationData.airport_code})`,\n          depart: departDate,\n          departTime: f.departure_time,\n          arriveTime: arrivalTime,\n          duration: `${durationHours}h ${durationMins}m`,\n          stops: 0,\n          price: finalPrice,\n          class: f.class.charAt(0).toUpperCase() + f.class.slice(1),\n          seats: Math.random() > 0.3 ? 'Available' : 'Limited',\n          bookingLink: `https://www.google.com/travel/flights?q=${encodeURIComponent(`flights from Bangalore to ${destination} ${departDate}`)}`,\n          cheapest: false,\n        };\n      }).sort((a: any, b: any) => a.price - b.price);\n\n      if (flights.length > 0) {\n        flights[0].cheapest = true;\n      }\n\n      return {\n        ok: true,\n        flights: flights,\n        cheapest: flights[0],\n      };\n    } catch (error: any) {\n      console.error('Error fetching flights from Supabase:', error.message);\n      return generateMockFlights(destination, departDate);\n    }\n  },\n};\n\nfunction calculateArrivalTime(departTime: string, durationMinutes: number): string {\n  const [hours, minutes] = departTime.split(':').map(Number);\n  const totalMinutes = hours * 60 + minutes + durationMinutes;\n  const arrivalHours = Math.floor(totalMinutes / 60) % 24;\n  const arrivalMinutes = totalMinutes % 60;\n  return `${String(arrivalHours).padStart(2, '0')}:${String(arrivalMinutes).padStart(2, '0')}`;\n}\n\nfunction generateMockFlights(destination: string, departDate: string) {\n  const airlines = [\n    { name: 'IndiGo', code: '6E', website: 'https://www.goindigo.in' },\n    { name: 'SpiceJet', code: 'SG', website: 'https://www.spicejet.com' },\n    { name: 'Air India', code: 'AI', website: 'https://www.airindia.in' },\n    { name: 'Vistara', code: 'UK', website: 'https://www.airvistara.com' },\n    { name: 'AirAsia India', code: 'I5', website: 'https://www.airasia.com' }\n  ];\n  \n  const times = [\n    { depart: '06:30', arrive: '09:00', duration: '2h 30m' },\n    { depart: '09:15', arrive: '11:45', duration: '2h 30m' },\n    { depart: '12:45', arrive: '15:15', duration: '2h 30m' },\n    { depart: '15:20', arrive: '17:50', duration: '2h 30m' },\n    { depart: '18:00', arrive: '20:30', duration: '2h 30m' }\n  ];\n  \n  const basePrices = [2999, 3299, 3799, 4199, 3499];\n  \n  const flights = [];\n  const numFlights = 5;\n  \n  for (let idx = 0; idx < numFlights; idx++) {\n    const airline = airlines[idx % airlines.length];\n    const timeSlot = times[idx % times.length];\n    const basePrice = basePrices[idx % basePrices.length];\n    \n    const priceVariation = Math.floor(Math.random() * 1000) - 200;\n    const finalPrice = Math.max(basePrice + priceVariation, 2500);\n    \n    const stops = Math.random() > 0.6 ? 0 : 1;\n    const flightNumber = `${airline.code}${Math.floor(1000 + Math.random() * 9000)}`;\n    \n    const bookingUrl = `${airline.website}/booking?from=BLR&to=${destination}&date=${departDate}&class=economy`;\n    \n    flights.push({\n      id: flightNumber,\n      airline: airline.name,\n      flightNumber: flightNumber,\n      from: 'Bangalore (BLR)',\n      to: `${destination} Airport`,\n      depart: departDate,\n      departTime: timeSlot.depart,\n      arriveTime: timeSlot.arrive,\n      duration: timeSlot.duration,\n      stops: stops,\n      price: finalPrice,\n      class: 'Economy',\n      seats: Math.random() > 0.3 ? 'Available' : 'Limited',\n      bookingLink: bookingUrl,\n      cheapest: false,\n    });\n  }\n  \n  const cheapestIndex = flights.reduce((minIdx, flight, idx, arr) => \n    flight.price < arr[minIdx].price ? idx : minIdx, 0);\n  flights[cheapestIndex].cheapest = true;\n  \n  flights.sort((a, b) => a.price - b.price);\n\n  return {\n    ok: true,\n    flights: flights,\n    cheapest: flights[0],\n    note: 'To get real-time flight prices and availability, set up API keys for Amadeus or Skyscanner.',\n  };\n}","size_bytes":6036},"TELEGRAM_QUICKSTART.md":{"content":"# üöÄ Telegram Bot Quick Start\n\n## Setup in 3 Steps\n\n### 1. Get Telegram Bot Token\n\n1. Open Telegram\n2. Search for **@BotFather**\n3. Send `/newbot`\n4. Follow instructions to name your bot\n5. Copy the token you receive\n\n### 2. Add Token to .env\n\n```bash\n# Edit .env file\nTELEGRAM_BOT_TOKEN=your-token-here\n```\n\n### 3. Start Server\n\n```bash\nnpm run dev\n```\n\nYou should see:\n```\n‚úÖ Telegram bot started successfully!\n```\n\n## Usage\n\n1. **Find your bot** on Telegram (search for the name you gave it)\n2. **Send `/start`** to begin\n3. **Start chatting!**\n\n### Example Messages\n\n**Travel Planning:**\n```\nYou: Plan a trip to Goa for next month\nBot: [Shows flights and hotels with prices]\n```\n\n**Career Guidance:**\n```\nYou: I want to become a software engineer\nBot: [Shows career path, skills, salary, companies]\n```\n\n**Study:**\n```\nYou: Explain JavaScript\nBot: [Detailed explanation with concepts]\n\nYou: Create a quiz on Python\nBot: [Generates quiz with questions]\n```\n\n**Automation:**\n```\nYou: Automate email sending task\nBot: [Creates automation plan]\n```\n\n## Commands\n\n- `/start` - Start bot and create default agent\n- `/help` - Show help\n- `/agents` - List your agents\n- `/create <type>` - Create agent (travel/career/study/automation)\n\n## That's It!\n\nYour Telegram bot is now connected to all your agents! üéâ\n\n","size_bytes":1311},"public/app.js":{"content":"// Enhanced Agentverse UI with all hackathon features\nconst API_BASE = window.location.origin;\n\nlet currentUser = null;\nlet currentAgent = null;\nlet agents = [];\nlet wsConnection = null;\nlet currentTab = 'chat';\nlet analytics = null;\nlet templates = [];\nlet scenarios = [];\n\n// Auth state\nfunction getToken() {\n  return localStorage.getItem('token');\n}\n\nfunction setToken(token) {\n  localStorage.setItem('token', token);\n}\n\nfunction clearToken() {\n  localStorage.removeItem('token');\n}\n\n// API calls\nasync function apiCall(endpoint, options = {}) {\n  const token = getToken();\n  const headers = {\n    'Content-Type': 'application/json',\n    ...(token && { Authorization: `Bearer ${token}` }),\n    ...options.headers,\n  };\n\n  const response = await fetch(`${API_BASE}${endpoint}`, {\n    ...options,\n    headers,\n  });\n\n  if (response.status === 401) {\n    clearToken();\n    render();\n    return null;\n  }\n\n  return response.json();\n}\n\n// Auth\nasync function login(email, password) {\n  const result = await apiCall('/api/auth/login', {\n    method: 'POST',\n    body: JSON.stringify({ email, password }),\n  });\n\n  if (result && result.token) {\n    setToken(result.token);\n    currentUser = result.user;\n    await loadAgents();\n    render();\n    return true;\n  }\n  return false;\n}\n\nasync function register(email, password) {\n  const result = await apiCall('/api/auth/register', {\n    method: 'POST',\n    body: JSON.stringify({ email, password }),\n  });\n\n  if (result && result.token) {\n    setToken(result.token);\n    currentUser = result.user;\n    await loadAgents();\n    render();\n    return true;\n  }\n  return false;\n}\n\n// Agents\nasync function loadAgents() {\n  const result = await apiCall('/api/agents');\n  if (result) {\n    agents = result.agents || [];\n    if (agents.length > 0 && !currentAgent) {\n      currentAgent = agents[0].id;\n    }\n  }\n}\n\nasync function createAgent(name, type = 'travel_planner') {\n  const result = await apiCall('/api/agents', {\n    method: 'POST',\n    body: JSON.stringify({ name, type, config: {} }),\n  });\n\n  if (result) {\n    await loadAgents();\n    currentAgent = result.id;\n    render();\n  }\n}\n\n// Goals\nasync function submitGoal(text, simulate = false) {\n  if (!currentAgent) {\n    alert('Please select or create an agent first');\n    return;\n  }\n\n  addMessage('user', text);\n  \n  const result = await apiCall(`/api/agents/${currentAgent}/goal`, {\n    method: 'POST',\n    body: JSON.stringify({ text, simulate }),\n  });\n\n  if (result) {\n    addMessage('agent', formatGoalResult(result));\n    updateTimeline(result);\n    await loadAgents();\n  }\n}\n\nfunction formatGoalResult(result) {\n  if (result.error) {\n    return `‚ùå Error: ${result.error}`;\n  }\n\n  let message = '';\n  let flights = null;\n  let hotels = null;\n  let finalResponse = null;\n\n  // Extract actual data from trace results\n  let careerGuidance = null;\n  let explanation = null;\n  let quiz = null;\n  let schedule = null;\n  let automation = null;\n  let webContent = null;\n\n  if (result.trace) {\n    result.trace.forEach((t, i) => {\n      const step = result.plan?.steps?.[i];\n      if (!step) return;\n\n      if (step.type === 'search_flights' && t.res?.flights) {\n        flights = t.res.flights;\n      } else if (step.type === 'search_hotels' && t.res?.hotels) {\n        hotels = t.res.hotels;\n      } else if (step.type === 'career_guidance' && t.res?.guidance) {\n        careerGuidance = t.res;\n      } else if (step.type === 'explain_topic' && t.res?.explanation) {\n        explanation = t.res;\n      } else if (step.type === 'create_quiz' && t.res?.quiz) {\n        quiz = t.res;\n      } else if (step.type === 'schedule_study' && t.res?.schedule) {\n        schedule = t.res;\n      } else if (step.type === 'automate_task' && t.res?.automation) {\n        automation = t.res;\n      } else if ((step.type === 'web_scraper' || step.type === 'web_scraping') && t.res?.content) {\n        webContent = t.res;\n      } else if (step.type === 'respond' && t.res?.text) {\n        finalResponse = t.res.text;\n      }\n    });\n  }\n\n  // Build natural language response based on agent type\n  if (careerGuidance) {\n    message += `üéØ **Career Guidance for ${careerGuidance.career || 'Your Career'}**\\n\\n`;\n    const g = careerGuidance.guidance;\n    message += `**üíº Career Path:**\\n${g.careerPath}\\n\\n`;\n    message += `**üí∞ Salary Range:** ${g.salaryRange}\\n\\n`;\n    message += `**üõ†Ô∏è Key Skills Required:**\\n`;\n    g.skills.forEach((skill, idx) => {\n      message += `${idx + 1}. ${skill}\\n`;\n    });\n    message += `\\n**üè¢ Top Companies:** ${g.topCompanies.join(', ')}\\n\\n`;\n    message += `**üìú Recommended Certifications:**\\n`;\n    g.certifications.forEach((cert, idx) => {\n      message += `${idx + 1}. ${cert}\\n`;\n    });\n    message += `\\n**üí° Tips for Success:**\\n`;\n    g.tips.forEach((tip, idx) => {\n      message += `${idx + 1}. ${tip}\\n`;\n    });\n  } else if (explanation) {\n    message += `üìö **Explanation: ${explanation.topic}**\\n\\n`;\n    message += `${explanation.explanation}\\n\\n`;\n    message += `**üîë Key Concepts:**\\n`;\n    explanation.keyConcepts.forEach((concept, idx) => {\n      message += `${idx + 1}. ${concept}\\n`;\n    });\n    message += `\\n**üíª Examples:**\\n`;\n    explanation.examples.forEach((ex, idx) => {\n      message += `${idx + 1}. ${ex}\\n`;\n    });\n    message += `\\n**üìñ Study Tips:**\\n`;\n    explanation.studyTips.forEach((tip, idx) => {\n      message += `${idx + 1}. ${tip}\\n`;\n    });\n  } else if (quiz) {\n    message += `üìù **Quiz: ${quiz.topic}**\\n\\n`;\n    message += `Total Questions: ${quiz.quiz.totalQuestions}\\n`;\n    message += `Estimated Time: ${quiz.quiz.estimatedTime}\\n\\n`;\n    quiz.quiz.questions.forEach((q, idx) => {\n      message += `**Question ${idx + 1}:** ${q.question}\\n`;\n      q.options.forEach((opt, optIdx) => {\n        const marker = optIdx === q.correctAnswer ? '‚úÖ' : '  ';\n        message += `${marker} ${String.fromCharCode(65 + optIdx)}. ${opt}\\n`;\n      });\n      message += `\\n`;\n    });\n    message += `üí° Review the correct answers (marked with ‚úÖ) to reinforce your learning!`;\n  } else if (schedule) {\n    message += `üìÖ **Study Schedule: ${schedule.topic}**\\n\\n`;\n    message += `Start Date: ${schedule.schedule.startDate}\\n`;\n    message += `Duration per session: ${schedule.schedule.duration}\\n`;\n    message += `Total Sessions: ${schedule.schedule.totalSessions}\\n\\n`;\n    message += `**üìã Schedule:**\\n\\n`;\n    schedule.schedule.sessions.forEach((session, idx) => {\n      message += `${session.day} - ${session.time}\\n`;\n      message += `   üìö ${session.activity}\\n`;\n      message += `   Topic: ${session.topic}\\n\\n`;\n    });\n    message += `**‚è∞ Reminders:**\\n`;\n    schedule.schedule.reminders.forEach((reminder, idx) => {\n      message += `${idx + 1}. ${reminder}\\n`;\n    });\n  } else if (automation) {\n    message += `ü§ñ **Task Automation Plan**\\n\\n`;\n    message += `**Task:** ${automation.task}\\n\\n`;\n    message += `**Type:** ${automation.automation.type}\\n`;\n    message += `**Estimated Time:** ${automation.automation.time}\\n\\n`;\n    message += `**Reasoning:** ${automation.automation.reasoning}\\n\\n`;\n    message += `**Automation Steps:**\\n`;\n    automation.automation.steps.forEach((step, idx) => {\n      message += `${idx + 1}. ${step}\\n`;\n    });\n    message += `\\n${automation.result}`;\n  } else if (webContent) {\n    message += `üåê **Web Content Retrieved**\\n\\n`;\n    message += `**URL:** ${webContent.url || 'N/A'}\\n\\n`;\n    message += `**Content Preview:**\\n${webContent.content?.substring(0, 500) || 'No content extracted'}...\\n\\n`;\n    if (webContent.content && webContent.content.length > 500) {\n      message += `\\n(Content truncated. Full content available in memory.)`;\n    }\n  } else if (flights || hotels) {\n    message += `‚úàÔ∏è **Your Travel Plan is Ready!**\\n\\n`;\n    \n    if (flights && flights.length > 0) {\n      message += `**üõ´ Flight Options:**\\n\\n`;\n      flights.forEach((flight, idx) => {\n        message += `${idx + 1}. **${flight.airline || 'Flight'}** - ${flight.id}\\n`;\n        message += `   üõ´ ${flight.from} ‚Üí ${flight.to}\\n`;\n        message += `   üìÖ Date: ${flight.depart}\\n`;\n        if (flight.departTime && flight.arriveTime) {\n          message += `   ‚è∞ Time: ${flight.departTime} - ${flight.arriveTime} (${flight.duration || 'N/A'})\\n`;\n        }\n        message += `   üí∫ Class: ${flight.class || 'Economy'}\\n`;\n        message += `   üí∞ Price: ‚Çπ${flight.price.toLocaleString()}\\n`;\n        if (flight.seats) {\n          message += `   ${flight.seats === 'Available' ? '‚úÖ' : '‚ö†Ô∏è'} ${flight.seats}\\n`;\n        }\n        message += `\\n`;\n      });\n    }\n\n    if (hotels && hotels.length > 0) {\n      message += `**üè® Hotel Options:**\\n\\n`;\n      hotels.forEach((hotel, idx) => {\n        const totalPrice = hotel.totalPrice || (hotel.pricePerNight * hotel.nights);\n        message += `${idx + 1}. **${hotel.name}** ${hotel.rating ? `‚≠ê ${hotel.rating}` : ''}\\n`;\n        message += `   üìç ${hotel.location || hotel.destination}\\n`;\n        message += `   üåô ${hotel.nights} night${hotel.nights > 1 ? 's' : ''}\\n`;\n        if (hotel.amenities && hotel.amenities.length > 0) {\n          message += `   ‚ú® ${hotel.amenities.join(', ')}\\n`;\n        }\n        message += `   üí∞ ‚Çπ${hotel.pricePerNight.toLocaleString()}/night ‚Üí Total: ‚Çπ${totalPrice.toLocaleString()}\\n`;\n        if (hotel.availability) {\n          message += `   ${hotel.availability === 'Available' ? '‚úÖ' : '‚ö†Ô∏è'} ${hotel.availability}\\n`;\n        }\n        message += `\\n`;\n      });\n    }\n\n    // Calculate total trip cost\n    if (flights && hotels) {\n      const cheapestFlight = Math.min(...flights.map(f => f.price));\n      const cheapestHotel = Math.min(...hotels.map(h => h.totalPrice || (h.pricePerNight * h.nights)));\n      const totalCost = cheapestFlight + cheapestHotel;\n      message += `üí∞ **Estimated Total Trip Cost:** ‚Çπ${totalCost.toLocaleString()}\\n`;\n      message += `   (Based on cheapest flight + hotel combination)\\n\\n`;\n    }\n\n    message += `‚úÖ **Summary:** I found ${flights?.length || 0} flight option(s) and ${hotels?.length || 0} hotel option(s) for you.\\n\\n`;\n    message += `üí° **Next Steps:** Would you like me to:\\n`;\n    message += `   ‚Ä¢ Help you choose the best option?\\n`;\n    message += `   ‚Ä¢ Find more options?\\n`;\n    message += `   ‚Ä¢ Modify your search criteria?`;\n  } else if (finalResponse) {\n    message = finalResponse;\n  } else {\n    // Fallback to showing what was done\n    message = `‚úÖ I've completed your request!\\n\\n`;\n    if (result.plan?.steps) {\n      result.plan.steps.forEach((step, i) => {\n        const trace = result.trace?.[i];\n        if (trace?.res?.error) {\n          message += `‚ùå ${step.type} failed: ${trace.res.error}\\n`;\n        } else if (trace?.res?.ok) {\n          message += `‚úÖ ${step.type} completed\\n`;\n        }\n      });\n    }\n  }\n\n  return message;\n}\n\n// UI State\nconst state = {\n  view: getToken() ? 'main' : 'login',\n  messages: [],\n  timeline: [],\n  error: null,\n};\n\n// Rendering\nfunction addMessage(sender, text) {\n  state.messages.push({ sender, text, timestamp: Date.now() });\n  render();\n  scrollMessages();\n}\n\nfunction updateTimeline(result) {\n  state.timeline.unshift({\n    goalId: result.goalId,\n    status: result.status,\n    plan: result.plan,\n    trace: result.trace,\n    timestamp: Date.now(),\n  });\n  render();\n}\n\nfunction scrollMessages() {\n  const messagesEl = document.getElementById('chat-messages');\n  if (messagesEl) {\n    messagesEl.scrollTop = messagesEl.scrollHeight;\n  }\n}\n\nfunction render() {\n  const root = document.getElementById('root');\n  if (!root) return;\n\n  if (!getToken()) {\n    root.innerHTML = renderLogin();\n    return;\n  }\n\n  root.innerHTML = renderMain();\n  attachEventListeners();\n}\n\nfunction renderLogin() {\n  return `\n    <div class=\"container\">\n      <div class=\"auth-section\">\n        <h2>Agentverse</h2>\n        <div id=\"auth-error\"></div>\n        <div class=\"form-group\">\n          <label>Email</label>\n          <input type=\"email\" id=\"login-email\" placeholder=\"admin@agentverse.com\" />\n        </div>\n        <div class=\"form-group\">\n          <label>Password</label>\n          <input type=\"password\" id=\"login-password\" placeholder=\"admin123\" />\n        </div>\n        <button class=\"btn btn-primary\" onclick=\"handleLogin()\" style=\"width: 100%; margin-bottom: 10px;\">Login</button>\n        <button class=\"btn btn-secondary\" onclick=\"showRegister()\" style=\"width: 100%;\">Register</button>\n      </div>\n    </div>\n  `;\n}\n\nfunction renderMain() {\n  return `\n    <div class=\"container\">\n      <div class=\"header\">\n        <h1>ü§ñ Agentverse - Autonomous AI Agents</h1>\n        <div style=\"display: flex; justify-content: space-between; align-items: center;\">\n          <div>\n            <span>Logged in as: <strong>${currentUser?.email || 'User'}</strong></span>\n            ${currentAgent ? `<span style=\"margin-left: 20px;\">Agent: <strong>${agents.find(a => a.id === currentAgent)?.name || currentAgent}</strong></span>` : ''}\n          </div>\n          <button class=\"btn btn-secondary\" onclick=\"handleLogout()\">Logout</button>\n        </div>\n      </div>\n\n      <div class=\"nav-tabs\">\n        <button class=\"nav-tab ${currentTab === 'chat' ? 'active' : ''}\" onclick=\"switchTab('chat')\">üí¨ Chat</button>\n        <button class=\"nav-tab ${currentTab === 'marketplace' ? 'active' : ''}\" onclick=\"switchTab('marketplace')\">üõí Marketplace</button>\n        <button class=\"nav-tab ${currentTab === 'demo' ? 'active' : ''}\" onclick=\"switchTab('demo')\">üé¨ Demo</button>\n        <button class=\"nav-tab ${currentTab === 'analytics' ? 'active' : ''}\" onclick=\"switchTab('analytics')\">üìä Analytics</button>\n      </div>\n\n      ${renderTabContent()}\n    </div>\n  `;\n}\n\nfunction renderTabContent() {\n  if (currentTab === 'marketplace') {\n    return renderMarketplace();\n  } else if (currentTab === 'demo') {\n    return renderDemo();\n  } else if (currentTab === 'analytics') {\n    return renderAnalytics();\n  } else {\n    return renderChat();\n  }\n}\n\nfunction renderMarketplace() {\n  return `\n    <div class=\"card\">\n      <h3>Agent Templates</h3>\n      <p style=\"color: #666; margin-bottom: 20px;\">Choose a template to create a new agent instantly</p>\n      <div class=\"template-grid\">\n        ${templates.map(template => `\n          <div class=\"template-card\" onclick=\"createAgentFromTemplate('${template.id}')\">\n            <div class=\"icon\">${template.icon}</div>\n            <h4>${template.name}</h4>\n            <p style=\"color: #666; font-size: 14px; margin: 10px 0;\">${template.description}</p>\n            <button class=\"btn btn-primary\" style=\"width: 100%; margin-top: 10px;\" onclick=\"event.stopPropagation(); createAgentFromTemplate('${template.id}')\">Create Agent</button>\n          </div>\n        `).join('')}\n      </div>\n    </div>\n  `;\n}\n\nfunction renderDemo() {\n  return `\n    <div class=\"card\">\n      <h3>Demo Scenarios</h3>\n      <p style=\"color: #666; margin-bottom: 20px;\">Try these pre-configured scenarios to see Agentverse in action</p>\n      ${scenarios.map(scenario => `\n        <div class=\"demo-scenario\" onclick=\"runDemoScenario('${scenario.id}')\">\n          <h4>${scenario.name}</h4>\n          <p style=\"color: #666; margin: 5px 0;\">${scenario.description}</p>\n          <button class=\"btn btn-primary\" style=\"margin-top: 10px;\" onclick=\"event.stopPropagation(); runDemoScenario('${scenario.id}')\">Run Demo</button>\n        </div>\n      `).join('')}\n    </div>\n  `;\n}\n\nfunction renderAnalytics() {\n  if (!analytics) {\n    return `<div class=\"loading\"><div class=\"spinner\"></div><p>Loading analytics...</p></div>`;\n  }\n  return `\n    <div class=\"stats-grid\">\n      <div class=\"stat-card\">\n        <h4>Total Agents</h4>\n        <div class=\"value\">${analytics.totalAgents || 0}</div>\n      </div>\n      <div class=\"stat-card\">\n        <h4>Total Goals</h4>\n        <div class=\"value\">${analytics.totalGoals || 0}</div>\n      </div>\n      <div class=\"stat-card\">\n        <h4>Success Rate</h4>\n        <div class=\"value\">${analytics.successRate || 0}%</div>\n      </div>\n      <div class=\"stat-card\">\n        <h4>Completed</h4>\n        <div class=\"value\">${analytics.completedGoals || 0}</div>\n      </div>\n    </div>\n    <div class=\"card\">\n      <h3>Agent Performance</h3>\n      ${analytics.agentStats && analytics.agentStats.length > 0 ? `\n        <table style=\"width: 100%; border-collapse: collapse;\">\n          <thead>\n            <tr style=\"border-bottom: 2px solid #e5e7eb;\">\n              <th style=\"padding: 10px; text-align: left;\">Agent</th>\n              <th style=\"padding: 10px; text-align: left;\">Goals</th>\n              <th style=\"padding: 10px; text-align: left;\">Completed</th>\n              <th style=\"padding: 10px; text-align: left;\">Success Rate</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${analytics.agentStats.map(stat => `\n              <tr style=\"border-bottom: 1px solid #e5e7eb;\">\n                <td style=\"padding: 10px;\">${stat.agentName}</td>\n                <td style=\"padding: 10px;\">${stat.totalGoals}</td>\n                <td style=\"padding: 10px;\">${stat.completed}</td>\n                <td style=\"padding: 10px;\">\n                  <span style=\"background: ${stat.successRate > 80 ? '#d1fae5' : stat.successRate > 50 ? '#fef3c7' : '#fee2e2'}; \n                    color: ${stat.successRate > 80 ? '#065f46' : stat.successRate > 50 ? '#92400e' : '#991b1b'}; \n                    padding: 4px 8px; border-radius: 4px; font-size: 12px;\">\n                    ${stat.successRate}%\n                  </span>\n                </td>\n              </tr>\n            `).join('')}\n          </tbody>\n        </table>\n      ` : '<p style=\"color: #666;\">No agent statistics yet. Create agents and submit goals to see analytics.</p>'}\n    </div>\n  `;\n}\n\nfunction renderChat() {\n  return `\n\n      <div class=\"main-content\">\n        <div class=\"sidebar\">\n          <h3>Agents</h3>\n          <button class=\"btn btn-primary\" onclick=\"showCreateAgent()\" style=\"width: 100%; margin-bottom: 15px;\">+ New Agent</button>\n          <ul class=\"agent-list\" id=\"agent-list\">\n            ${agents.map(agent => `\n              <li class=\"${agent.id === currentAgent ? 'active' : ''}\" onclick=\"selectAgent('${agent.id}')\">\n                ${agent.name} (${agent.type})\n              </li>\n            `).join('')}\n          </ul>\n        </div>\n\n        <div class=\"chat-container\">\n          <div class=\"chat-messages\" id=\"chat-messages\">\n            ${state.messages.map(msg => `\n              <div class=\"message ${msg.sender}\">\n                <strong>${msg.sender === 'user' ? 'You' : 'Agent'}:</strong>\n                <pre style=\"white-space: pre-wrap; margin-top: 5px;\">${msg.text}</pre>\n              </div>\n            `).join('')}\n          </div>\n          <div class=\"chat-input\">\n            <input type=\"text\" id=\"goal-input\" placeholder=\"Enter your goal (e.g., 'Plan a trip to Goa for next month')\" />\n            <button class=\"btn btn-primary\" onclick=\"handleSubmitGoal()\">Send</button>\n            <button class=\"btn btn-secondary\" onclick=\"handleSubmitGoal(true)\">Simulate</button>\n          </div>\n        </div>\n\n        <div class=\"timeline\">\n          <h3>Timeline</h3>\n          ${state.timeline.length === 0 ? '<p style=\"color: #999;\">No goals yet</p>' : ''}\n          ${state.timeline.map(item => `\n            <div class=\"timeline-item\">\n              <h4>Goal ${item.goalId?.substring(0, 8)}</h4>\n              <span class=\"status-badge status-${item.status}\">${item.status}</span>\n              <div class=\"plan-steps\">\n                ${item.plan?.steps?.map((step, i) => {\n                  const trace = item.trace?.[i];\n                  const stepStatus = trace?.res?.error ? 'failed' : (trace ? 'completed' : 'pending');\n                  return `<div class=\"plan-step ${stepStatus}\">${step.type}</div>`;\n                }).join('') || ''}\n              </div>\n            </div>\n          `).join('')}\n        </div>\n      </div>\n  `;\n}\n\n// Event handlers\nwindow.handleLogin = async function() {\n  const email = document.getElementById('login-email')?.value;\n  const password = document.getElementById('login-password')?.value;\n  \n  if (!email || !password) {\n    showError('Please enter email and password');\n    return;\n  }\n\n  const success = await login(email, password);\n  if (!success) {\n    showError('Login failed. Try: admin@agentverse.com / admin123');\n  }\n};\n\nwindow.showRegister = function() {\n  const root = document.getElementById('root');\n  root.innerHTML = `\n    <div class=\"container\">\n      <div class=\"auth-section\">\n        <h2>Register</h2>\n        <div id=\"auth-error\"></div>\n        <div class=\"form-group\">\n          <label>Email</label>\n          <input type=\"email\" id=\"register-email\" />\n        </div>\n        <div class=\"form-group\">\n          <label>Password</label>\n          <input type=\"password\" id=\"register-password\" />\n        </div>\n        <button class=\"btn btn-primary\" onclick=\"handleRegister()\" style=\"width: 100%; margin-bottom: 10px;\">Register</button>\n        <button class=\"btn btn-secondary\" onclick=\"render()\" style=\"width: 100%;\">Back to Login</button>\n      </div>\n    </div>\n  `;\n};\n\nwindow.handleRegister = async function() {\n  const email = document.getElementById('register-email')?.value;\n  const password = document.getElementById('register-password')?.value;\n  \n  if (!email || !password) {\n    showError('Please enter email and password');\n    return;\n  }\n\n  const success = await register(email, password);\n  if (!success) {\n    showError('Registration failed');\n  }\n};\n\nwindow.handleLogout = function() {\n  clearToken();\n  currentUser = null;\n  currentAgent = null;\n  agents = [];\n  state.messages = [];\n  state.timeline = [];\n  render();\n};\n\nwindow.selectAgent = function(agentId) {\n  currentAgent = agentId;\n  state.messages = [];\n  render();\n};\n\nwindow.showCreateAgent = async function() {\n  const name = prompt('Enter agent name:');\n  if (name) {\n    await createAgent(name);\n  }\n};\n\nwindow.handleSubmitGoal = function(simulate = false) {\n  const input = document.getElementById('goal-input');\n  const text = input?.value?.trim();\n  if (text) {\n    submitGoal(text, simulate);\n    input.value = '';\n  }\n};\n\nfunction attachEventListeners() {\n  const input = document.getElementById('goal-input');\n  if (input) {\n    input.addEventListener('keypress', (e) => {\n      if (e.key === 'Enter') {\n        handleSubmitGoal();\n      }\n    });\n  }\n}\n\nfunction showError(message) {\n  const errorEl = document.getElementById('auth-error');\n  if (errorEl) {\n    errorEl.innerHTML = `<div class=\"error\">${message}</div>`;\n  }\n}\n\n// New features\nasync function loadAnalytics() {\n  const result = await apiCall('/api/analytics');\n  if (result) {\n    analytics = result;\n  }\n}\n\nasync function loadTemplates() {\n  const result = await apiCall('/api/marketplace/templates');\n  if (result) {\n    templates = result.templates || [];\n  }\n}\n\nasync function loadScenarios() {\n  const result = await apiCall('/api/demo/scenarios');\n  if (result) {\n    scenarios = result.scenarios || [];\n  }\n}\n\nwindow.createAgentFromTemplate = async function(templateId) {\n  const result = await apiCall(`/api/marketplace/templates/${templateId}/create`, {\n    method: 'POST',\n    body: JSON.stringify({}),\n  });\n  if (result) {\n    await loadAgents();\n    currentAgent = result.agent.id;\n    currentTab = 'chat';\n    render();\n  }\n};\n\nwindow.runDemoScenario = async function(scenarioId) {\n  const scenario = scenarios.find(s => s.id === scenarioId);\n  if (!scenario || !currentAgent) {\n    alert('Please select an agent first');\n    return;\n  }\n  currentTab = 'chat';\n  render();\n  await submitGoal(scenario.goal, false);\n};\n\nwindow.switchTab = function(tab) {\n  currentTab = tab;\n  if (tab === 'analytics') {\n    loadAnalytics();\n  } else if (tab === 'marketplace') {\n    loadTemplates();\n  } else if (tab === 'demo') {\n    loadScenarios();\n  }\n  render();\n};\n\n// Initialize\nasync function init() {\n  const token = getToken();\n  if (token) {\n    const userResult = await apiCall('/api/user/profile');\n    if (userResult) {\n      currentUser = userResult;\n      await loadAgents();\n      await loadTemplates();\n      await loadScenarios();\n    } else {\n      clearToken();\n    }\n  }\n  render();\n}\n\ninit();\n\n","size_bytes":24327},"src/api/analytics.ts":{"content":"import { FastifyInstance, FastifyRequest, FastifyReply } from \"fastify\";\nimport { UserDB } from \"../db/UserDB\";\nimport { AgentDB } from \"../db/AgentDB\";\nimport { Memory } from \"../agents/Memory\";\nimport { AuthRequest, authenticateToken } from \"./auth\";\n\nexport function registerAnalyticsRoutes(\n  server: FastifyInstance,\n  userDB: UserDB,\n  agentDB: AgentDB\n) {\n  // Get analytics for user\n  server.get(\"/api/analytics\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const userId = req.user!.id;\n    const userAgents = agentDB.getUserAgents(userId);\n    \n    // Calculate stats\n    let totalGoals = 0;\n    let completedGoals = 0;\n    let failedGoals = 0;\n    const agentStats: any[] = [];\n\n    for (const agent of userAgents) {\n      try {\n        const memory = new Memory(`memory_${agent.id}.db`);\n        const memories = memory.dump();\n        const goals = memories.filter((m: any) => m.key?.startsWith('goal_') && m.key?.endsWith('_result'));\n        \n        const completed = goals.filter((g: any) => {\n          try {\n            const value = JSON.parse(g.value);\n            return value.status === 'completed';\n          } catch {\n            return false;\n          }\n        }).length;\n        \n        const failed = goals.filter((g: any) => {\n          try {\n            const value = JSON.parse(g.value);\n            return value.status === 'failed';\n          } catch {\n            return false;\n          }\n        }).length;\n\n        totalGoals += goals.length;\n        completedGoals += completed;\n        failedGoals += failed;\n\n        agentStats.push({\n          agentId: agent.id,\n          agentName: agent.name,\n          totalGoals: goals.length,\n          completed,\n          failed,\n          successRate: goals.length > 0 ? (completed / goals.length * 100).toFixed(1) : 0,\n        });\n      } catch (error) {\n        // Agent memory might not exist yet\n      }\n    }\n\n    return {\n      totalAgents: userAgents.length,\n      totalGoals,\n      completedGoals,\n      failedGoals,\n      successRate: totalGoals > 0 ? ((completedGoals / totalGoals) * 100).toFixed(1) : 0,\n      agentStats,\n    };\n  });\n\n  // Get agent performance metrics\n  server.get(\"/api/analytics/agent/:id\", { preHandler: authenticateToken }, async (req: AuthRequest, reply: FastifyReply) => {\n    const params = req.params as { id: string };\n    const agentRecord = agentDB.getAgent(params.id);\n    \n    if (!agentRecord || agentRecord.userId !== req.user!.id) {\n      reply.code(404);\n      return { error: \"Agent not found\" };\n    }\n\n    try {\n      const memory = new Memory(`memory_${params.id}.db`);\n      const memories = memory.dump();\n      const goals = memories.filter((m: any) => m.key?.startsWith('goal_') && m.key?.endsWith('_result'));\n      \n      const goalDetails = goals.map((g: any) => {\n        try {\n          return JSON.parse(g.value);\n        } catch {\n          return null;\n        }\n      }).filter(Boolean);\n\n      const avgSteps = goalDetails.length > 0\n        ? (goalDetails.reduce((sum: number, g: any) => sum + (g.plan?.steps?.length || 0), 0) / goalDetails.length).toFixed(1)\n        : 0;\n\n      const avgExecutionTime = goalDetails.length > 0\n        ? goalDetails\n            .filter((g: any) => g.completedAt && g.trace?.[0]?.timestamp)\n            .map((g: any) => (g.completedAt - g.trace[0].timestamp) / 1000)\n            .reduce((sum: number, t: number) => sum + t, 0) / goalDetails.length\n        : 0;\n\n      return {\n        agentId: params.id,\n        totalGoals: goals.length,\n        avgStepsPerPlan: avgSteps,\n        avgExecutionTimeSeconds: avgExecutionTime.toFixed(2),\n        goalDetails: goalDetails.slice(0, 10), // Last 10 goals\n      };\n    } catch (error: any) {\n      return {\n        agentId: params.id,\n        totalGoals: 0,\n        avgStepsPerPlan: 0,\n        avgExecutionTimeSeconds: 0,\n        goalDetails: [],\n      };\n    }\n  });\n}\n\n","size_bytes":3944},"src/agents/RuleBasedPlanner.ts":{"content":"export class RuleBasedPlanner {\n  private tools: Record<string, any>;\n\n  constructor(tools: Record<string, any>) {\n    this.tools = tools;\n  }\n\n  createPlan(goal: string): { steps: Array<{ id: string; type: string; input: any }> } {\n    const goalLower = goal.toLowerCase();\n    const steps: Array<{ id: string; type: string; input: any }> = [];\n\n    // Extract destination\n    const destinationMatch = goal.match(/(?:to|in|for)\\s+([A-Z][a-z]+(?:\\s+[A-Z][a-z]+)*)/i);\n    const destination = destinationMatch ? destinationMatch[1] : this.extractDestination(goalLower);\n\n    // Extract dates/timeframe\n    const nextMonthMatch = goal.match(/next\\s+month/i);\n    const dateMatch = goal.match(/(\\d{1,2})[\\/\\-](\\d{1,2})[\\/\\-](\\d{4})/);\n    const daysMatch = goal.match(/(\\d+)\\s+(?:day|night|days|nights)/i);\n    const nights = daysMatch ? parseInt(daysMatch[1]) : 2;\n\n    // Travel planning logic\n    if (goalLower.includes('trip') || goalLower.includes('travel') || goalLower.includes('vacation') || goalLower.includes('goa')) {\n      // Search for flights\n      if (this.tools['search_flights']) {\n        steps.push({\n          id: \"1\",\n          type: \"search_flights\",\n          input: {\n            destination: destination || \"Goa\",\n            dates: nextMonthMatch ? { from: \"next_month\", to: \"next_month\" } : (dateMatch ? { from: dateMatch[0], to: dateMatch[0] } : {})\n          }\n        });\n      }\n\n      // Search for hotels\n      if (this.tools['search_hotels']) {\n        steps.push({\n          id: String(steps.length + 1),\n          type: \"search_hotels\",\n          input: {\n            destination: destination || \"Goa\",\n            nights: nights\n          }\n        });\n      }\n\n      // Check weather\n      if (this.tools['check_weather']) {\n        steps.push({\n          id: String(steps.length + 1),\n          type: \"check_weather\",\n          input: {\n            destination: destination || \"Goa\",\n            days: 5\n          }\n        });\n      }\n\n      // Find nearby attractions\n      if (this.tools['find_attractions']) {\n        steps.push({\n          id: String(steps.length + 1),\n          type: \"find_attractions\",\n          input: {\n            destination: destination || \"Goa\",\n            type: \"all\"\n          }\n        });\n      }\n\n      // Respond with results - let the frontend format the actual data\n      steps.push({\n        id: String(steps.length + 1),\n        type: \"respond\",\n        input: {\n          text: `I've completed your comprehensive travel planning for ${destination || \"Goa\"}. I found the cheapest flights with booking links, best hotel rates, current weather conditions, and popular attractions nearby. Check the detailed results below!`\n        }\n      });\n    } else if (goalLower.includes('flight')) {\n      // Just flights\n      if (this.tools['search_flights']) {\n        steps.push({\n          id: \"1\",\n          type: \"search_flights\",\n          input: {\n            destination: destination || \"Goa\",\n            dates: {}\n          }\n        });\n      }\n      steps.push({\n        id: String(steps.length + 1),\n        type: \"respond\",\n        input: {\n          text: `I've found flight options for ${destination || \"your destination\"}.`\n        }\n      });\n    } else if (goalLower.includes('hotel')) {\n      // Just hotels\n      if (this.tools['search_hotels']) {\n        steps.push({\n          id: \"1\",\n          type: \"search_hotels\",\n          input: {\n            destination: destination || \"Goa\",\n            nights: nights\n          }\n        });\n      }\n      steps.push({\n        id: String(steps.length + 1),\n        type: \"respond\",\n        input: {\n          text: `I've found hotel options for ${destination || \"your destination\"}.`\n        }\n      });\n    } else if (goalLower.includes('career') || goalLower.includes('job') || goalLower.includes('salary')) {\n      // Career guidance\n      if (this.tools['career_guidance']) {\n        const careerMatch = goal.match(/(?:as|for|become|be)\\s+([a-z\\s]+)/i);\n        const career = careerMatch ? careerMatch[1] : goalLower.includes('engineer') ? 'software engineer' : 'career';\n        steps.push({\n          id: \"1\",\n          type: \"career_guidance\",\n          input: { career: career.trim(), query: goal }\n        });\n      }\n      steps.push({\n        id: String(steps.length + 1),\n        type: \"respond\",\n        input: {\n          text: `I've prepared career guidance information for you.`\n        }\n      });\n    } else if (goalLower.includes('explain') || goalLower.includes('learn') || goalLower.includes('study')) {\n      // Study/explain\n      const topicMatch = goal.match(/(?:explain|learn|study|about)\\s+([a-z\\s]+)/i);\n      const topic = topicMatch ? topicMatch[1] : 'the topic';\n      if (this.tools['explain_topic']) {\n        steps.push({\n          id: \"1\",\n          type: \"explain_topic\",\n          input: { topic: topic.trim() }\n        });\n      }\n      steps.push({\n        id: String(steps.length + 1),\n        type: \"respond\",\n        input: {\n          text: `I've prepared an explanation for you.`\n        }\n      });\n    } else if (goalLower.includes('quiz') || goalLower.includes('test')) {\n      // Quiz\n      const topicMatch = goal.match(/(?:quiz|test)\\s+(?:on|about)?\\s*([a-z\\s]+)/i);\n      const topic = topicMatch ? topicMatch[1] : 'general knowledge';\n      const numMatch = goal.match(/(\\d+)\\s*(?:questions?|qs?)/i);\n      const numQuestions = numMatch ? parseInt(numMatch[1]) : 5;\n      if (this.tools['create_quiz']) {\n        steps.push({\n          id: \"1\",\n          type: \"create_quiz\",\n          input: { topic: topic.trim(), numQuestions }\n        });\n      }\n      steps.push({\n        id: String(steps.length + 1),\n        type: \"respond\",\n        input: {\n          text: `I've created a quiz for you.`\n        }\n      });\n    } else if (goalLower.includes('schedule') || goalLower.includes('plan') && goalLower.includes('study')) {\n      // Study schedule\n      const topicMatch = goal.match(/(?:schedule|plan)\\s+(?:study\\s+)?(?:for\\s+)?([a-z\\s]+)/i);\n      const topic = topicMatch ? topicMatch[1] : 'studies';\n      const durationMatch = goal.match(/(\\d+)\\s*(?:hour|hr|h)/i);\n      const duration = durationMatch ? `${durationMatch[1]} hours` : '1 hour';\n      if (this.tools['schedule_study']) {\n        steps.push({\n          id: \"1\",\n          type: \"schedule_study\",\n          input: { topic: topic.trim(), duration }\n        });\n      }\n      steps.push({\n        id: String(steps.length + 1),\n        type: \"respond\",\n        input: {\n          text: `I've created a study schedule for you.`\n        }\n      });\n    } else if (goalLower.includes('automate') || goalLower.includes('task')) {\n      // Task automation\n      if (this.tools['automate_task']) {\n        steps.push({\n          id: \"1\",\n          type: \"automate_task\",\n          input: { task: goal, context: {} }\n        });\n      }\n      steps.push({\n        id: String(steps.length + 1),\n        type: \"respond\",\n        input: {\n          text: `I've analyzed your task and created an automation plan.`\n        }\n      });\n    } else {\n      // Generic response\n      steps.push({\n        id: \"1\",\n        type: \"respond\",\n        input: {\n          text: `I understand you want to: ${goal}. Let me help you with that.`\n        }\n      });\n    }\n\n    return { steps };\n  }\n\n  private extractDestination(text: string): string | null {\n    const commonDestinations = [\n      'goa', 'mumbai', 'delhi', 'bangalore', 'chennai', 'kolkata',\n      'hyderabad', 'pune', 'jaipur', 'udaipur', 'kerala', 'manali',\n      'shimla', 'darjeeling', 'ooty', 'mysore', 'coorg'\n    ];\n\n    for (const dest of commonDestinations) {\n      if (text.includes(dest)) {\n        return dest.charAt(0).toUpperCase() + dest.slice(1);\n      }\n    }\n\n    return null;\n  }\n}\n\n","size_bytes":7800},"src/server.ts":{"content":"import 'dotenv/config';\nimport Fastify from \"fastify\";\nimport cors from \"@fastify/cors\";\nimport path from \"path\";\nimport fastifyStatic from \"@fastify/static\";\nimport websocket from \"@fastify/websocket\";\nimport { Tool } from './agents/tools/Tool';\nimport { WebScraperTool } from './agents/tools/WebScraperTool';\nimport { FlightTool } from './agents/tools/FlightTool';\nimport { HotelTool } from './agents/tools/HotelTool';\nimport { WeatherTool } from './agents/tools/WeatherTool';\nimport { PlacesTool } from './agents/tools/PlacesTool';\nimport { CareerTool } from './agents/tools/CareerTool';\nimport { ExplainTool, QuizTool, ScheduleTool } from './agents/tools/StudyTool';\nimport { AutomationTool } from './agents/tools/AutomationTool';\nimport { UserDB } from \"./db/UserDB\";\nimport { AgentDB } from \"./db/AgentDB\";\nimport { MultiAgentSystem } from \"./agents/MultiAgentSystem\";\nimport { registerRoutes } from \"./api/routes\";\nimport { registerAnalyticsRoutes } from \"./api/analytics\";\nimport { registerDemoRoutes } from \"./api/demo\";\nimport { registerExportRoutes } from \"./api/export\";\nimport { registerMarketplaceRoutes } from \"./api/marketplace\";\nimport { authenticateToken, AuthRequest } from \"./api/auth\";\nimport { TelegramBotService } from \"./bot/TelegramBot\";\n\nconst server = Fastify({ logger: true });\nserver.register(cors, { origin: \"*\" });\nserver.register(websocket);\n\nserver.register(fastifyStatic, {\n  root: path.join(__dirname, '..', 'public'),\n});\n\nserver.get('/', (req, reply) => {\n  reply.sendFile('index.html');\n});\n\n// Initialize databases\nconst userDB = new UserDB();\nconst agentDB = new AgentDB();\n\n// Register all available tools\nconst tools: Record<string, Tool> = {\n  [FlightTool.name]: FlightTool,\n  [HotelTool.name]: HotelTool,\n  [WeatherTool.name]: WeatherTool,\n  [PlacesTool.name]: PlacesTool,\n  [WebScraperTool.name]: WebScraperTool,\n  [CareerTool.name]: CareerTool,\n  [ExplainTool.name]: ExplainTool,\n  [QuizTool.name]: QuizTool,\n  [ScheduleTool.name]: ScheduleTool,\n  [AutomationTool.name]: AutomationTool,\n};\n\n// Initialize multi-agent system\nconst multiAgentSystem = new MultiAgentSystem();\n\n// Register API routes\nregisterRoutes(server, userDB, agentDB, tools, multiAgentSystem);\nregisterAnalyticsRoutes(server, userDB, agentDB);\nregisterDemoRoutes(server);\nregisterExportRoutes(server, agentDB);\nregisterMarketplaceRoutes(server, agentDB);\n\n// WebSocket endpoint for live updates\nserver.register(async function (fastify) {\n  fastify.get('/ws/:agentId', { websocket: true }, (connection: any, req: AuthRequest) => {\n    const params = req.params as { agentId: string };\n    const agentId = params.agentId;\n\n    connection.socket.on('message', async (message: Buffer) => {\n      try {\n        const data = JSON.parse(message.toString());\n        \n        if (data.type === 'subscribe') {\n          // Handle subscription to agent updates\n          connection.socket.send(JSON.stringify({\n            type: 'subscribed',\n            agentId,\n          }));\n        }\n      } catch (error: any) {\n        connection.socket.send(JSON.stringify({\n          type: 'error',\n          message: error.message,\n        }));\n      }\n    });\n\n    connection.socket.on('close', () => {\n      console.log(`WebSocket connection closed for agent ${agentId}`);\n    });\n  });\n});\n\n// Create default admin user if it doesn't exist\nasync function initializeDefaultUser() {\n  try {\n    const admin = await userDB.authenticate(\"admin@agentverse.com\", \"admin123\");\n    if (!admin) {\n      await userDB.createUser(\"admin@agentverse.com\", \"admin123\", \"admin\", {\n        theme: \"dark\",\n        notifications: true,\n      });\n      console.log(\"‚úÖ Created default admin user: admin@agentverse.com / admin123\");\n    }\n  } catch (error) {\n    // User might already exist, ignore\n  }\n}\n\nconst PORT = process.env.PORT ? parseInt(process.env.PORT) : 5000;\n\nserver.listen({ port: PORT, host: \"0.0.0.0\" }).then(async () => {\n  await initializeDefaultUser();\n  console.log(`üöÄ Agentverse running on http://localhost:${PORT}`);\n  console.log(`üìö API docs available at http://localhost:${PORT}/api`);\n\n  // Start Telegram bot\n  const telegramBot = new TelegramBotService(userDB, agentDB, tools);\n  await telegramBot.start();\n});\n","size_bytes":4226},"src/agents/tools/WeatherTool.ts":{"content":"import { Tool } from './Tool';\nimport axios from 'axios';\n\nexport const WeatherTool: Tool = {\n  name: 'check_weather',\n  description: 'Checks weather conditions for a destination',\n  inputSchema: { destination: 'string', days: 'number' },\n  async execute(input: any) {\n    console.log('Checking weather for', input);\n\n    const destination = input.destination || 'Goa';\n    const days = Math.min(input.days || 5, 7);\n\n    const apiKey = process.env.OPENWEATHER_API_KEY;\n    \n    if (!apiKey) {\n      return generateMockWeather(destination, days);\n    }\n\n    try {\n      const geoResponse = await axios.get(\n        `http://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(destination)}&limit=1&appid=${apiKey}`\n      );\n\n      if (!geoResponse.data || geoResponse.data.length === 0) {\n        return generateMockWeather(destination, days);\n      }\n\n      const { lat, lon, name } = geoResponse.data[0];\n\n      const weatherResponse = await axios.get(\n        `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&units=metric&appid=${apiKey}`\n      );\n\n      const forecasts = weatherResponse.data.list\n        .filter((_: any, idx: number) => idx % 8 === 0)\n        .slice(0, days)\n        .map((item: any) => ({\n          date: new Date(item.dt * 1000).toLocaleDateString(),\n          temp: Math.round(item.main.temp),\n          tempMin: Math.round(item.main.temp_min),\n          tempMax: Math.round(item.main.temp_max),\n          condition: item.weather[0].main,\n          description: item.weather[0].description,\n          humidity: item.main.humidity,\n          windSpeed: Math.round(item.wind.speed * 3.6),\n          icon: item.weather[0].icon,\n        }));\n\n      const current = weatherResponse.data.list[0];\n\n      return {\n        ok: true,\n        location: name,\n        current: {\n          temp: Math.round(current.main.temp),\n          condition: current.weather[0].main,\n          description: current.weather[0].description,\n          humidity: current.main.humidity,\n          windSpeed: Math.round(current.wind.speed * 3.6),\n          feelsLike: Math.round(current.main.feels_like),\n        },\n        forecast: forecasts,\n      };\n    } catch (error: any) {\n      console.error('Error fetching weather:', error.message);\n      return generateMockWeather(destination, days);\n    }\n  },\n};\n\nfunction generateMockWeather(destination: string, days: number) {\n  const conditions = ['Sunny', 'Partly Cloudy', 'Cloudy', 'Rainy', 'Clear'];\n  const forecasts = [];\n\n  for (let i = 0; i < days; i++) {\n    const date = new Date(Date.now() + i * 24 * 60 * 60 * 1000);\n    const condition = conditions[Math.floor(Math.random() * conditions.length)];\n    const temp = 25 + Math.floor(Math.random() * 10);\n\n    forecasts.push({\n      date: date.toLocaleDateString(),\n      temp: temp,\n      tempMin: temp - 3,\n      tempMax: temp + 3,\n      condition: condition,\n      description: condition.toLowerCase(),\n      humidity: 60 + Math.floor(Math.random() * 30),\n      windSpeed: 10 + Math.floor(Math.random() * 15),\n    });\n  }\n\n  return {\n    ok: true,\n    location: destination,\n    current: {\n      temp: forecasts[0].temp,\n      condition: forecasts[0].condition,\n      description: forecasts[0].description,\n      humidity: forecasts[0].humidity,\n      windSpeed: forecasts[0].windSpeed,\n      feelsLike: forecasts[0].temp - 1,\n    },\n    forecast: forecasts,\n  };\n}\n","size_bytes":3407},"replit.md":{"content":"# Agentverse - Replit Project\n\n## Overview\n\nAgentverse is a comprehensive platform for building and managing autonomous AI agents. This MVP includes multiple specialized agents (Travel Planner, Career Coach, Study Buddy, Task Automation) with a full-featured chat UI, REST API, persistent memory using SQLite, and optional Telegram bot integration.\n\n**Current State**: The project has been successfully configured for Replit and is running on port 5000.\n\n## Recent Changes (November 8, 2025)\n\n### Initial Setup\n- Configured server to run on port 5000 (Replit standard)\n- Set up development workflow with auto-restart (ts-node-dev)\n- Created .env file from template\n- Fixed Telegram bot to gracefully handle missing/invalid tokens\n- Configured deployment with autoscale target\n- All dependencies installed and TypeScript compiled successfully\n\n### Enhanced Travel Planner\n- Created WeatherTool: Real-time weather conditions and 5-day forecasts\n- Created PlacesTool: Nearby attractions and places to visit\n- Enhanced FlightTool: Price-sorted results with booking links, cheapest flight highlighted\n- Enhanced HotelTool: Price-sorted hotels with detailed amenities and booking links\n- Updated RuleBasedPlanner: Comprehensive travel planning with flights, hotels, weather, and attractions\n- All tools gracefully fallback to realistic mock data when API keys are not configured\n\n## Project Architecture\n\n### Technology Stack\n- **Backend**: Node.js + TypeScript + Fastify\n- **Frontend**: Vanilla JavaScript (SPA)\n- **Database**: SQLite (better-sqlite3)\n- **AI Integration**: OpenAI API and Google Gemini (optional)\n- **Optional**: Telegram Bot integration\n\n### Key Components\n\n1. **Agents** (`src/agents/`)\n   - Base agent architecture with Planner, Memory, and Executor\n   - Specialized agents: TravelPlanner, CareerCoach, StudyBuddy, TaskAutomation\n   - Multi-agent coordination system\n\n2. **Tools** (`src/agents/tools/`)\n   - **Travel Tools**: FlightTool (price-sorted with booking links), HotelTool (with amenities & booking), WeatherTool (real-time conditions), PlacesTool (nearby attractions)\n   - **Career Tools**: CareerTool (career guidance and salary info)\n   - **Study Tools**: ExplainTool, QuizTool, ScheduleTool\n   - **Automation**: AutomationTool with reasoning capabilities\n   - **Web Scraper**: WebScraperTool for content extraction\n\n3. **API** (`src/api/`)\n   - Authentication (JWT-based)\n   - Agent management\n   - Analytics and export functionality\n   - Marketplace integration\n\n4. **Database** (`src/db/`)\n   - UserDB: User management and authentication\n   - AgentDB: Agent storage and retrieval\n   - Memory: Per-agent memory storage\n\n### Directory Structure\n```\nagentverse/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ agents/          # Agent logic and tools\n‚îÇ   ‚îú‚îÄ‚îÄ api/             # REST API routes\n‚îÇ   ‚îú‚îÄ‚îÄ bot/             # Telegram bot integration\n‚îÇ   ‚îú‚îÄ‚îÄ db/              # Database management\n‚îÇ   ‚îî‚îÄ‚îÄ server.ts        # Main server entry point\n‚îú‚îÄ‚îÄ public/              # Frontend files\n‚îÇ   ‚îú‚îÄ‚îÄ index.html       # Login/registration UI\n‚îÇ   ‚îú‚îÄ‚îÄ enhanced-ui.html # Main agent chat interface\n‚îÇ   ‚îî‚îÄ‚îÄ app.js           # Frontend JavaScript\n‚îú‚îÄ‚îÄ dist/                # Compiled TypeScript (build output)\n‚îî‚îÄ‚îÄ *.db                 # SQLite database files (gitignored)\n```\n\n## Running the Project\n\n### Development Mode\nThe project runs automatically via the workflow configuration:\n```bash\nnpm run dev\n```\nThis starts the server with hot-reload on port 5000.\n\n### Production Build\n```bash\nnpm run build  # Compile TypeScript\nnpm start      # Run compiled version\n```\n\n### Testing\n```bash\nnpm test              # Run all tests\nnpm run test:watch    # Run tests in watch mode\n```\n\n## Environment Variables\n\nThe following environment variables are configured in `.env`:\n\n- `JWT_SECRET`: Secret key for JWT authentication (uses default for dev)\n- `NODE_ENV`: Set to \"development\"\n- `PORT`: Server port (defaults to 5000)\n\n**Optional API Keys for Enhanced Features:**\n- `OPENAI_API_KEY`: For LLM-based natural language parsing\n- `GEMINI_API_KEY`: Fallback LLM provider\n- `OPENWEATHER_API_KEY`: For real-time weather data (uses mock data if not set)\n- `GEOAPIFY_API_KEY`: For nearby attractions and places (uses mock data if not set)\n- `SUPABASE_URL` & `SUPABASE_ANON_KEY`: For additional travel data\n- `TELEGRAM_BOT_TOKEN`: Enable Telegram bot integration\n\n**Note**: All tools gracefully fallback to realistic mock data when API keys are not configured.\n\n## Default Credentials\n\nLogin to the web interface with:\n- **Email**: `admin@agentverse.com`\n- **Password**: `admin123`\n\n## Features\n\n### Core Features\n- User authentication and role-based access control\n- Multiple specialized AI agents\n- Persistent memory with SQLite\n- RESTful API with WebSocket support for real-time updates\n- Modern chat interface with plan visualization\n- Simulate mode for testing without real API calls\n\n### Agent Types\n1. **Travel Planner**: Comprehensive trip planning with:\n   - Cheapest flight rates sorted by price with direct booking links\n   - Hotel options sorted by price with amenities and booking links\n   - 5-day weather forecast for your destination\n   - Nearby attractions and places to visit\n2. **Career Coach**: Career guidance and advice\n3. **Study Buddy**: Learning assistance, quizzes, schedules\n4. **Task Automation**: Automate tasks with reasoning\n\n### API Endpoints\n- `/api/auth/login` - User authentication\n- `/api/auth/register` - User registration\n- `/api/agents` - List/create agents\n- `/api/agents/:id/goal` - Submit goals to agents\n- `/api/agents/:id/memory` - View agent memory\n- `/ws/:agentId` - WebSocket for live updates\n\n## Database\n\nThe application uses SQLite for persistence:\n- `agentverse.db`: Main database for users and agents\n- `memory_*.db`: Per-agent memory databases\n\nAll database files are automatically created on first run and are excluded from git.\n\n## Deployment\n\nThe project is configured for Replit autoscale deployment:\n- **Build**: `npm run build` (compiles TypeScript)\n- **Run**: `npm start` (runs production server)\n- **Target**: autoscale (stateless web application)\n\n## Troubleshooting\n\n### Common Issues\n\n1. **Telegram bot errors**: If you see polling errors, this is normal when no valid bot token is configured. The bot is optional and won't affect the main application.\n\n2. **Port conflicts**: The server runs on port 5000. This is configured for Replit's webview.\n\n3. **Database locked**: If you see database locked errors, ensure no duplicate processes are running.\n\n4. **Missing dependencies**: Run `npm install` if you encounter import errors.\n\n## User Preferences\n\n- The application uses TypeScript for type safety\n- Hot-reload is enabled for development\n- SQLite is used for simplicity and portability\n- Frontend is served as static files from the `public` directory\n\n## Next Steps\n\nTo enhance the application further:\n1. **Get real-time data**: Add API keys for weather (OpenWeatherMap) and places (Geoapify)\n2. **Advanced LLM**: Configure OpenAI or Gemini API key for better natural language understanding\n3. **Telegram bot**: Set up valid TELEGRAM_BOT_TOKEN for chat-based interaction\n4. **More agents**: Implement additional specialized agent types\n5. **Real bookings**: Integrate with Amadeus, Skyscanner, or Booking.com APIs for actual reservations\n\n## Example Usage\n\nTry asking the Travel Planner:\n- \"Plan a trip to Goa for next month\"\n- \"Find me cheap flights to Mumbai\"\n- \"I need hotels in Bangalore for 3 nights\"\n\nThe agent will provide:\n- **Flights**: Sorted by price (cheapest first) with booking links\n- **Hotels**: Sorted by price with star ratings, amenities, and booking links\n- **Weather**: 5-day forecast with temperature, conditions, and humidity\n- **Attractions**: Nearby places to visit with ratings and distances\n","size_bytes":7849},"src/agents/tools/PlacesTool.ts":{"content":"import { Tool } from './Tool';\nimport axios from 'axios';\n\nexport const PlacesTool: Tool = {\n  name: 'find_attractions',\n  description: 'Finds nearby attractions and places to visit in a destination',\n  inputSchema: { destination: 'string', type: 'string' },\n  async execute(input: any) {\n    console.log('Finding attractions in', input);\n\n    const destination = input.destination || 'Goa';\n    const type = input.type || 'all';\n\n    const apiKey = process.env.GEOAPIFY_API_KEY;\n\n    if (!apiKey) {\n      return generateMockAttractions(destination, type);\n    }\n\n    try {\n      const geocodeResponse = await axios.get(\n        `https://api.geoapify.com/v1/geocode/search?text=${encodeURIComponent(destination)}&limit=1&apiKey=${apiKey}`\n      );\n\n      if (!geocodeResponse.data.features || geocodeResponse.data.features.length === 0) {\n        return generateMockAttractions(destination, type);\n      }\n\n      const { lat, lon } = geocodeResponse.data.features[0].properties;\n\n      const categories = type === 'all' \n        ? 'tourism.attraction,tourism.sights,entertainment,leisure,beach,natural'\n        : getCategories(type);\n\n      const placesResponse = await axios.get(\n        `https://api.geoapify.com/v2/places?categories=${categories}&filter=circle:${lon},${lat},5000&limit=10&apiKey=${apiKey}`\n      );\n\n      const places = placesResponse.data.features.map((feature: any, idx: number) => {\n        const props = feature.properties;\n        return {\n          id: `PLR${String(idx + 1).padStart(3, '0')}`,\n          name: props.name || props.address_line1 || 'Unnamed Place',\n          type: props.categories?.[0]?.replace('tourism.', '') || 'attraction',\n          description: props.description || generateDescription(props),\n          address: props.address_line2 || props.city || destination,\n          rating: props.datasource?.raw?.rating || (4.0 + Math.random()).toFixed(1),\n          distance: props.distance ? `${(props.distance / 1000).toFixed(1)} km` : 'nearby',\n          coordinates: {\n            lat: props.lat,\n            lon: props.lon,\n          },\n        };\n      });\n\n      return {\n        ok: true,\n        destination: destination,\n        places: places.length > 0 ? places : generateMockAttractions(destination, type).places,\n        count: places.length,\n      };\n    } catch (error: any) {\n      console.error('Error fetching attractions:', error.message);\n      return generateMockAttractions(destination, type);\n    }\n  },\n};\n\nfunction getCategories(type: string): string {\n  const categoryMap: Record<string, string> = {\n    'tourist': 'tourism.attraction,tourism.sights',\n    'beach': 'beach,leisure',\n    'historical': 'tourism.sights,heritage',\n    'entertainment': 'entertainment,leisure',\n    'nature': 'natural,national_park',\n  };\n  return categoryMap[type] || 'tourism.attraction';\n}\n\nfunction generateDescription(props: any): string {\n  const category = props.categories?.[0] || 'attraction';\n  return `Popular ${category.replace('tourism.', '').replace('.', ' ')} in the area`;\n}\n\nfunction generateMockAttractions(destination: string, type: string) {\n  const attractions = [\n    {\n      id: 'PLR001',\n      name: `${destination} Beach`,\n      type: 'beach',\n      description: 'Beautiful pristine beach with golden sands',\n      address: `${destination} Beach Area`,\n      rating: '4.5',\n      distance: '2.5 km',\n    },\n    {\n      id: 'PLR002',\n      name: `${destination} Fort`,\n      type: 'historical',\n      description: 'Historic fort with panoramic views',\n      address: `Old ${destination}`,\n      rating: '4.3',\n      distance: '3.2 km',\n    },\n    {\n      id: 'PLR003',\n      name: `${destination} Market`,\n      type: 'shopping',\n      description: 'Vibrant local market with handicrafts',\n      address: `${destination} City Center`,\n      rating: '4.1',\n      distance: '1.8 km',\n    },\n    {\n      id: 'PLR004',\n      name: `${destination} Temple`,\n      type: 'cultural',\n      description: 'Ancient temple with stunning architecture',\n      address: `${destination} Heritage District`,\n      rating: '4.6',\n      distance: '4.0 km',\n    },\n    {\n      id: 'PLR005',\n      name: `${destination} Waterfall`,\n      type: 'nature',\n      description: 'Scenic waterfall surrounded by lush greenery',\n      address: `${destination} National Park`,\n      rating: '4.7',\n      distance: '12.5 km',\n    },\n  ];\n\n  return {\n    ok: true,\n    destination: destination,\n    places: attractions,\n    count: attractions.length,\n  };\n}\n","size_bytes":4497}},"version":2}